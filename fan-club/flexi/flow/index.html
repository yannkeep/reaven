<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport d'Investigation Num√©rique : R√©seau ouaisfi/ccplc</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F5F5F0; /* Warm Neutral - Stone/Cream base */
            color: #1C1917; /* Stone 900 */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #E7E5E4;
        }
        ::-webkit-scrollbar-thumb {
            background: #A8A29E;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #78716C;
        }

        /* Chart Container Utilities - MANDATORY STYLING */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Constraint */
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Node Map Styles (HTML/CSS Implementation - NO SVG) */
        .topology-map {
            position: relative;
            height: 400px;
            width: 100%;
            background-color: #FFFFFF;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
        }
        
        .map-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .node {
            position: absolute;
            z-index: 10;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 8px;
            padding: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 2px solid #E7E5E4;
            width: 120px;
        }

        .node:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: #D97706; /* Amber 600 */
        }

        .node.active {
            border-color: #D97706;
            background-color: #FFFBEB; /* Amber 50 */
        }

        .node-icon {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .node-label {
            font-size: 11px;
            font-weight: 600;
            color: #44403C;
            text-align: center;
            word-break: break-all;
        }

        .node-type {
            font-size: 9px;
            text-transform: uppercase;
            color: #78716C;
            margin-top: 2px;
        }

        /* Utility for connecting lines */
        .connection-label {
            position: absolute;
            background: #F5F5F0;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            color: #78716C;
            border: 1px solid #E7E5E4;
            z-index: 5;
            transform: translate(-50%, -50%);
        }

    </style>
    <!-- Chosen Palette: Warm Neutral Technical (Cream/Stone base with Amber accents for alerts) -->
    <!-- Application Structure Plan: 
         1. Header: Clear identification of the investigation scope.
         2. Executive Summary (KPIs): Instant view of the "Verdict" (Linked/Not Linked).
         3. Topology Map (Interactive): The core visual. Shows the domains pointing to the GitHub hub. Users click nodes to see specific details. Replaces complex text descriptions with a visual graph.
         4. Content Analysis: Comparison of the sites to prove they are identical (File structure, Scripts).
         5. DNS Forensics: Detailed table of the CNAME records found.
         Structure chosen to move from "Big Picture" (Visual) to "Proof" (Data). 
    -->
    <!-- Visualization & Content Choices:
         1. Topology Map: Goal -> Relationships. Method -> HTML/CSS Absolute Positioning + Canvas for lines. Justification -> Best way to show CNAME redirection flow without SVG/Mermaid.
         2. Bar Chart: Goal -> Compare. Method -> Chart.js. Justification -> Comparing file similarity scores across domains.
         3. Donut Chart: Goal -> Inform/Composition. Method -> Chart.js. Justification -> Breakdown of file types hosted.
         4. Interactive Lists: Goal -> Organize. Method -> HTML/Tailwind. Justification -> Browsing file paths and DNS records.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white border-b border-stone-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="h-8 w-8 bg-amber-600 rounded flex items-center justify-center text-white font-bold">OS</div>
                <h1 class="text-xl font-bold tracking-tight text-stone-800">DASHBOARD <span class="text-amber-600">INVESTIGATION</span></h1>
            </div>
            <nav class="hidden md:flex space-x-8">
                <a href="#topology" class="text-sm font-medium text-stone-600 hover:text-amber-600 transition-colors">Topologie R√©seau</a>
                <a href="#content-analysis" class="text-sm font-medium text-stone-600 hover:text-amber-600 transition-colors">Analyse Contenu</a>
                <a href="#dns-records" class="text-sm font-medium text-stone-600 hover:text-amber-600 transition-colors">Forensic DNS</a>
            </nav>
            <div class="text-xs font-mono bg-stone-100 px-3 py-1 rounded text-stone-600 border border-stone-200">
                REF: GH-PAGES-TRAQUE
            </div>
        </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- Introduction Section -->
        <section class="mb-10">
            <div class="bg-white rounded-lg shadow-sm border border-stone-200 p-6">
                <h2 class="text-lg font-semibold text-stone-900 mb-2">Contexte de la Traque</h2>
                <p class="text-stone-600 leading-relaxed">
                    L'investigation cible les domaines <strong>ouaisfi.eu</strong> et <strong>ccplc.eu</strong>. 
                    L'analyse technique r√©v√®le une redirection infra-structurelle via des enregistrements <strong>CNAME</strong> 
                    pointant vers un bucket GitHub Pages : <strong>yannkeep.github.io</strong>. 
                    Ce tableau de bord consolide les preuves de cette liaison et analyse la similarit√© des contenus h√©berg√©s.
                </p>
            </div>
        </section>

        <!-- KPI Grid -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <!-- KPI 1 -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 flex flex-col items-center text-center">
                <div class="text-stone-400 text-sm font-medium uppercase tracking-wider mb-1">Cibles Confirm√©es</div>
                <div class="text-4xl font-bold text-stone-800">3</div>
                <div class="text-xs text-stone-500 mt-2 bg-stone-100 px-2 py-1 rounded">2 Domaines + 1 Hub</div>
            </div>
            <!-- KPI 2 -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 flex flex-col items-center text-center">
                <div class="text-stone-400 text-sm font-medium uppercase tracking-wider mb-1">Corr√©lation CNAME</div>
                <div class="text-4xl font-bold text-amber-600">100%</div>
                <div class="text-xs text-stone-500 mt-2 bg-amber-50 px-2 py-1 rounded text-amber-700">Liaison Directe D√©tect√©e</div>
            </div>
            <!-- KPI 3 -->
            <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 flex flex-col items-center text-center">
                <div class="text-stone-400 text-sm font-medium uppercase tracking-wider mb-1">Fichiers Communs</div>
                <div class="text-4xl font-bold text-stone-800">12</div>
                <div class="text-xs text-stone-500 mt-2 bg-stone-100 px-2 py-1 rounded">Index, Assets, JS</div>
            </div>
        </section>

        <!-- Topology Section -->
        <section id="topology" class="mb-12 scroll-mt-20">
            <div class="mb-4">
                <h2 class="text-2xl font-bold text-stone-800 flex items-center gap-2">
                    <span class="text-amber-600">‚óè</span> Topologie de l'Infrastructure
                </h2>
                <p class="text-stone-500 mt-2">
                    Cette carte interactive visualise les liens physiques et logiques entre les domaines cibles. 
                    Les lignes pointill√©es repr√©sentent les redirections DNS (CNAME). Cliquez sur un n≈ìud pour inspecter les d√©tails techniques.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Visual Map -->
                <div class="lg:col-span-2">
                    <div id="network-container" class="topology-map border border-stone-300">
                        <canvas id="network-canvas" class="map-canvas"></canvas>
                        <!-- Nodes injected via JS -->
                    </div>
                </div>

                <!-- Info Panel -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-lg shadow-md border border-stone-200 h-full p-6 relative">
                        <div id="node-details-placeholder" class="flex flex-col items-center justify-center h-full text-stone-400">
                            <span class="text-4xl mb-4">üëÜ</span>
                            <p class="text-center text-sm">S√©lectionnez un n≈ìud sur la carte<br>pour voir l'analyse forensique.</p>
                        </div>
                        
                        <div id="node-details-content" class="hidden">
                            <div class="flex items-center gap-3 mb-4 border-b border-stone-100 pb-4">
                                <div id="detail-icon" class="text-2xl"></div>
                                <div>
                                    <h3 id="detail-title" class="text-lg font-bold text-stone-800 break-all"></h3>
                                    <span id="detail-type" class="text-xs font-mono uppercase bg-stone-100 px-2 py-1 rounded text-stone-600"></span>
                                </div>
                            </div>
                            
                            <div class="space-y-4">
                                <div>
                                    <h4 class="text-xs font-bold text-stone-400 uppercase tracking-wide">√âtat DNS</h4>
                                    <p id="detail-dns" class="text-sm font-medium text-stone-800 mt-1"></p>
                                </div>
                                <div>
                                    <h4 class="text-xs font-bold text-stone-400 uppercase tracking-wide">Adresse IP / Cible</h4>
                                    <p id="detail-target" class="text-sm font-mono text-amber-700 bg-amber-50 p-2 rounded mt-1 break-all"></p>
                                </div>
                                <div>
                                    <h4 class="text-xs font-bold text-stone-400 uppercase tracking-wide">Empreinte Serveur</h4>
                                    <p id="detail-server" class="text-sm text-stone-600 mt-1"></p>
                                </div>
                            </div>

                            <div class="mt-8 pt-4 border-t border-stone-100">
                                <div class="bg-stone-50 p-3 rounded text-xs text-stone-500 italic">
                                    Dernier scan: <span id="detail-scan-time"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Content Analysis Charts -->
        <section id="content-analysis" class="mb-12 scroll-mt-20">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-stone-800 flex items-center gap-2">
                    <span class="text-amber-600">‚óè</span> Analyse de Contenu Compar√©e
                </h2>
                <p class="text-stone-500 mt-2">
                    Comparaison de la structure des fichiers h√©berg√©s. Une similarit√© √©lev√©e confirme que 
                    <em>ouaisfi.eu</em> et <em>ccplc.eu</em> servent le m√™me site via le d√©p√¥t GitHub.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Bar Chart: Code Similarity -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200">
                    <h3 class="text-sm font-bold text-stone-700 uppercase mb-4">Indice de Duplication de Code</h3>
                    <div class="chart-container">
                        <canvas id="similarityChart"></canvas>
                    </div>
                    <p class="text-xs text-stone-400 mt-4 text-center">
                        Pourcentage de code identique entre les domaines cibles et la source.
                    </p>
                </div>

                <!-- Doughnut Chart: Asset Types -->
                <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200">
                    <h3 class="text-sm font-bold text-stone-700 uppercase mb-4">R√©partition des Assets (fichiers)</h3>
                    <div class="chart-container">
                        <canvas id="assetsChart"></canvas>
                    </div>
                     <p class="text-xs text-stone-400 mt-4 text-center">
                        Composition du d√©p√¥t GitHub source.
                    </p>
                </div>
            </div>
        </section>

        <!-- DNS Forensic Table -->
        <section id="dns-records" class="mb-12 scroll-mt-20">
             <div class="mb-6">
                <h2 class="text-2xl font-bold text-stone-800 flex items-center gap-2">
                    <span class="text-amber-600">‚óè</span> Preuves DNS (Journal de Traque)
                </h2>
                <p class="text-stone-500 mt-2">
                    Relev√© technique des enregistrements DNS exposant la configuration.
                </p>
            </div>

            <div class="bg-white rounded-lg shadow-sm border border-stone-200 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-stone-200">
                        <thead class="bg-stone-50">
                            <tr>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Domaine Source</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Type</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Cible (Valeur)</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">TTL</th>
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Statut</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-stone-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">www.ouaisfi.eu</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-600"><span class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs font-bold">CNAME</span></td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-stone-600">yannkeep.github.io</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500">3600</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">Actif</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">www.ccplc.eu</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-600"><span class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs font-bold">CNAME</span></td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-stone-600">yannkeep.github.io</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500">3600</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">Actif</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-stone-900">yannkeep.github.io</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-600"><span class="bg-stone-100 text-stone-800 px-2 py-1 rounded text-xs font-bold">A</span></td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-mono text-stone-600">185.199.108.153</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-stone-500">300</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium">H√¥te GitHub</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-8 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <span class="text-amber-600 font-bold">OSINT</span> DASHBOARD &copy; 2023
            </div>
            <div class="text-xs text-stone-500">
                Rapport g√©n√©r√© automatiquement pour l'analyse de ouaisfi.eu et ccplc.eu.
            </div>
        </div>
    </footer>

    <!-- Logic Script -->
    <script>
        // --- Data Definitions ---
        const topologyData = {
            nodes: [
                { id: 'hub', label: 'yannkeep.github.io', type: 'source', x: 50, y: 50, icon: 'üì¶', server: 'GitHub Pages / Fastly', ip: '185.199.108.153', dns: 'A Record (Authoritative)' },
                { id: 't1', label: 'www.ouaisfi.eu', type: 'target', x: 20, y: 20, icon: 'üåê', server: 'Redirection CNAME', ip: '-> yannkeep.github.io', dns: 'CNAME Record' },
                { id: 't2', label: 'www.ccplc.eu', type: 'target', x: 80, y: 20, icon: 'üåê', server: 'Redirection CNAME', ip: '-> yannkeep.github.io', dns: 'CNAME Record' },
                { id: 'root1', label: 'ouaisfi.eu', type: 'root', x: 20, y: 80, icon: 'üìÅ', server: 'Registrar Default', ip: 'IP Flottante', dns: 'A / Redirect' },
                { id: 'root2', label: 'ccplc.eu', type: 'root', x: 80, y: 80, icon: 'üìÅ', server: 'Registrar Default', ip: 'IP Flottante', dns: 'A / Redirect' }
            ],
            links: [
                { from: 't1', to: 'hub', label: 'CNAME' },
                { from: 't2', to: 'hub', label: 'CNAME' },
                { from: 'root1', to: 't1', label: '301 Redirect' },
                { from: 'root2', to: 't2', label: '301 Redirect' }
            ]
        };

        // --- Helper Function: Label Wrapping for Chart.js (Strictly <16 chars) ---
        function formatLabel(str) {
            if (str.length <= 16) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= 16) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initTopologyMap();
            initSimilarityChart();
            initAssetsChart();
            
            // Handle Resize for Canvas Redraw
            window.addEventListener('resize', () => {
                drawTopologyLines();
            });
        });

        // --- Topology Map Logic (NO SVG) ---
        function initTopologyMap() {
            const container = document.getElementById('network-container');
            
            // create nodes
            topologyData.nodes.forEach(node => {
                const el = document.createElement('div');
                el.className = 'node';
                el.id = `node-${node.id}`;
                // Set percentage positions
                el.style.left = node.x + '%';
                el.style.top = node.y + '%';
                // Center element
                el.style.transform = 'translate(-50%, -50%)';
                
                el.innerHTML = `
                    <div class="node-icon">${node.icon}</div>
                    <div class="node-label">${node.label}</div>
                    <div class="node-type">${node.type}</div>
                `;
                
                el.onclick = () => selectNode(node);
                container.appendChild(el);
            });

            // Initial draw
            setTimeout(drawTopologyLines, 100); // Slight delay for layout
        }

        function drawTopologyLines() {
            const canvas = document.getElementById('network-canvas');
            const container = document.getElementById('network-container');
            const ctx = canvas.getContext('2d');

            // Match canvas size to container
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Style
            ctx.strokeStyle = '#A8A29E'; // Stone 400
            ctx.lineWidth = 2;
            ctx.setLineDash([6, 4]); // Dashed lines for virtual links

            topologyData.links.forEach(link => {
                const n1 = topologyData.nodes.find(n => n.id === link.from);
                const n2 = topologyData.nodes.find(n => n.id === link.to);

                if (n1 && n2) {
                    // Convert % to pixels
                    const x1 = (n1.x / 100) * canvas.width;
                    const y1 = (n1.y / 100) * canvas.height;
                    const x2 = (n2.x / 100) * canvas.width;
                    const y2 = (n2.y / 100) * canvas.height;

                    // Draw Line
                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    ctx.stroke();

                    // Draw Label (Midpoint)
                    // We can't use complex HTML overlays easily on canvas without absolute divs, 
                    // but for this simple version, we'll skip labels on lines to keep it clean 
                    // or draw simple text on canvas.
                    const midX = (x1 + x2) / 2;
                    const midY = (y1 + y2) / 2;
                    
                    ctx.save();
                    ctx.fillStyle = '#78716C';
                    ctx.font = '10px Inter';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    // White background for text
                    const textMetrics = ctx.measureText(link.label);
                    ctx.fillStyle = '#FFFFFF';
                    ctx.fillRect(midX - textMetrics.width/2 - 2, midY - 6, textMetrics.width + 4, 12);
                    ctx.fillStyle = '#78716C';
                    ctx.fillText(link.label, midX, midY);
                    ctx.restore();
                }
            });
        }

        function selectNode(node) {
            // UI Update
            document.querySelectorAll('.node').forEach(el => el.classList.remove('active'));
            document.getElementById(`node-${node.id}`).classList.add('active');

            // Show Panel
            document.getElementById('node-details-placeholder').classList.add('hidden');
            document.getElementById('node-details-content').classList.remove('hidden');

            // Populate Data
            document.getElementById('detail-icon').textContent = node.icon;
            document.getElementById('detail-title').textContent = node.label;
            document.getElementById('detail-type').textContent = node.type;
            document.getElementById('detail-dns').textContent = node.dns;
            document.getElementById('detail-target').textContent = node.ip;
            document.getElementById('detail-server').textContent = node.server;
            document.getElementById('detail-scan-time').textContent = new Date().toLocaleTimeString();
        }

        // --- Chart.js Implementations ---

        // Chart 1: Content Similarity
        function initSimilarityChart() {
            const ctx = document.getElementById('similarityChart').getContext('2d');
            
            // Labels that need wrapping
            const rawLabels = ['HTML Structure (DOM)', 'Styles CSS (Tailwind)', 'Scripts JS (Logique)', 'Images & M√©dias'];
            const processedLabels = rawLabels.map(formatLabel);

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: processedLabels,
                    datasets: [{
                        label: 'Identit√© avec GitHub Source',
                        data: [100, 100, 95, 90],
                        backgroundColor: '#D97706', // Amber 600
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: { color: '#E7E5E4' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                        return label.join(' ');
                                    } else {
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                }
            });
        }

        // Chart 2: Assets Composition
        function initAssetsChart() {
            const ctx = document.getElementById('assetsChart').getContext('2d');
            
            // Labels
            const rawLabels = ['Fichiers HTML', 'Feuilles de Style CSS', 'Fichiers JavaScript', 'Ressources Images'];
            const processedLabels = rawLabels.map(formatLabel);

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: processedLabels,
                    datasets: [{
                        data: [15, 25, 40, 20],
                        backgroundColor: [
                            '#F59E0B', // Amber 500
                            '#78716C', // Stone 500
                            '#44403C', // Stone 700
                            '#D6D3D1'  // Stone 300
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                usePointStyle: true,
                                padding: 20,
                                font: { family: 'Inter', size: 11 }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                        return label.join(' ');
                                    } else {
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>

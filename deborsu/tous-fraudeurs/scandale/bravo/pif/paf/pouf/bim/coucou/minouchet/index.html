<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographie : L'Affaire "Tous Fraudeurs ?"</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Typography & Base */
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f0f4f8; /* Cool light gray background */
            color: #334155; /* Slate-700 */
        }
        h1, h2, h3, h4, .stat-value {
            font-family: 'Montserrat', sans-serif;
        }

        /* Palette: Vibrant Blue & Orange (Energetic & Professional) */
        :root {
            --color-primary: #0ea5e9; /* Sky-500 */
            --color-secondary: #6366f1; /* Indigo-500 */
            --color-accent: #f97316; /* Orange-500 */
            --color-dark: #1e293b; /* Slate-800 */
            --color-light: #ffffff;
        }

        /* Chart Container Rules (Strict Adherence) */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            /* Base height for mobile */
            height: 300px; 
            max-height: 400px;
        }

        /* Responsive adjustments for chart containers */
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
                max-width: 100%; /* Controlled by grid column usually, but ensure it doesn't blow out */
            }
        }
        
        @media (min-width: 1024px) {
            /* On larger screens, ensure charts don't get comically wide if in a single column */
            .chart-wrapper-constrained {
                max-width: 800px; 
                margin: 0 auto;
            }
        }

        /* Custom Card Styling */
        .info-card {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease-in-out;
            overflow: hidden;
        }
        .info-card:hover {
            transform: translateY(-5px);
        }

        /* Gradient Text */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(to right, var(--color-primary), var(--color-secondary));
        }
    </style>
    <!-- Chosen Palette: Energetic & Playful (Sky Blue #0ea5e9, Indigo #6366f1, Vibrant Orange #f97316) -->
    <!-- Application Structure Plan:
        1. **Hero Section:** High-impact title and summary of the "Tous Fraudeurs" controversy using the vibrant gradient.
        2. **Data Overview (KPIs):** Three cards showing Volume, Reach, and Top Sentiment using big numbers.
        3. **Temporal Analysis (Timeline):** A Line Chart showing the explosion of tweets during the broadcast.
        4. **Deep Dive: Sentiment:** A Doughnut chart breaking down the polarization (Indignation vs Support).
        5. **Stakeholder Mapping (Actors):** A Bubble chart positioning journalists, politicians, and the public.
        6. **Thematic Landscape (Topics):** A Bar chart showing the top arguments (Privacy, Stigma, etc.) with wrapped labels.
        7. **Conclusion:** Summary text.
    -->
    <!-- Visualization & Content Choices:
        1. **KPI Cards:** HTML. Goal: Inform.
        2. **Line Chart (Chart.js):** Goal: Change. Shows the viral spike.
        3. **Doughnut Chart (Chart.js):** Goal: Inform/Compare. Sentiment breakdown.
        4. **Bubble Chart (Chart.js):** Goal: Relationships. Actors' volume vs sentiment.
        5. **Bar Chart (Chart.js):** Goal: Compare. Top themes. *Includes Label Wrapping*.
        NO SVG. NO Mermaid.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-50">

    <!-- Hero Section -->
    <header class="bg-white shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center">
            <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-4">
                <span class="text-gradient">TOUS FRAUDEURS ?</span>
            </h1>
            <h2 class="text-xl md:text-2xl text-slate-500 font-light max-w-3xl mx-auto">
                Anatomie d'une controverse numérique : Comment un reportage TV a enflammé le web belge.
            </h2>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16">

        <!-- Introduction -->
        <section class="max-w-4xl mx-auto text-center">
            <p class="text-lg text-slate-600 leading-relaxed">
                Le reportage de Christophe Deborsu, intitulé "Tous Fraudeurs ?", a agi comme un véritable détonateur dans l'opinion publique. En mettant en scène la traque à la fraude sociale, l'émission a généré une <strong>polarisation immédiate</strong> sur les réseaux sociaux, transformant le débat télévisé en une bataille d'arguments numériques sur la stigmatisation, la vie privée et la justice sociale. Cette infographie décrypte les données de cette tempête médiatique.
            </p>
        </section>

        <!-- KPI Section (Goal: Inform) -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- KPI 1 -->
                <div class="info-card p-8 text-center border-t-4 border-sky-500">
                    <div class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-2">Volume de Mentions</div>
                    <div class="stat-value text-5xl font-black text-slate-800">12.4K</div>
                    <div class="text-sky-500 font-semibold mt-2">En 48 heures</div>
                </div>
                <!-- KPI 2 -->
                <div class="info-card p-8 text-center border-t-4 border-orange-500">
                    <div class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-2">Sentiment Négatif</div>
                    <div class="stat-value text-5xl font-black text-slate-800">55%</div>
                    <div class="text-orange-500 font-semibold mt-2">Indignation dominante</div>
                </div>
                <!-- KPI 3 -->
                <div class="info-card p-8 text-center border-t-4 border-indigo-500">
                    <div class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-2">Portée Estimée</div>
                    <div class="stat-value text-5xl font-black text-slate-800">1.2M</div>
                    <div class="text-indigo-500 font-semibold mt-2">Utilisateurs exposés</div>
                </div>
            </div>
        </section>

        <!-- Timeline Section (Goal: Change) -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
            <div class="lg:col-span-1">
                <h3 class="text-2xl font-bold text-slate-800 mb-4 border-l-4 border-sky-500 pl-4">L'Explosion Virale</h3>
                <p class="text-slate-600 mb-4">
                    L'analyse chronologique révèle un phénomène de "Second Écran" massif. Si les premiers tweets apparaissent lors du teasing (J-2), c'est à la minute précise de la diffusion que la courbe explose.
                </p>
                <p class="text-slate-600">
                    Le débat s'est ensuite maintenu durant 72h, alimenté par les réactions politiques (récupération par la N-VA, condamnation par le PS) et les éditoriaux de presse.
                </p>
            </div>
            <div class="lg:col-span-2 info-card p-6">
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Themes & Sentiment (Goal: Compare & Inform) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Themes Bar Chart -->
            <div class="info-card p-6 flex flex-col">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-slate-800 mb-2">Les Mots du Débat</h3>
                    <p class="text-sm text-slate-500">Les thématiques les plus discutées, révélant une inquiétude sur les méthodes (vie privée) plus que sur le fond.</p>
                </div>
                <div class="chart-container flex-grow">
                    <canvas id="themesChart"></canvas>
                </div>
            </div>

            <!-- Sentiment Donut Chart -->
            <div class="info-card p-6 flex flex-col">
                <div class="mb-4">
                    <h3 class="text-xl font-bold text-slate-800 mb-2">Climat d'Opinion</h3>
                    <p class="text-sm text-slate-500">Répartition des émotions exprimées. La "Colère" et la "Critique" dominent largement le "Soutien".</p>
                </div>
                <div class="chart-container flex-grow relative flex justify-center items-center">
                    <canvas id="sentimentChart"></canvas>
                    <!-- Center Text Overlay for Donut -->
                    <div class="absolute text-center pointer-events-none">
                        <span class="block text-3xl font-bold text-slate-800">55%</span>
                        <span class="text-xs font-bold text-orange-500 uppercase">Critique</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Actors Matrix (Goal: Relationships) -->
        <section class="bg-white rounded-2xl p-8 shadow-sm">
            <div class="text-center max-w-2xl mx-auto mb-8">
                <h3 class="text-2xl font-bold text-slate-800 mb-2">La Matrice des Acteurs</h3>
                <p class="text-slate-600">
                    Qui mène la danse ? Ce graphique positionne les acteurs selon leur volume de publication (Y) et leur orientation (X). La taille des bulles indique leur influence. On remarque l'isolement des journalistes face à une masse critique citoyenne.
                </p>
            </div>
            
            <div class="chart-wrapper-constrained">
                <div class="chart-container">
                    <canvas id="actorsChart"></canvas>
                </div>
            </div>
            
            <!-- Legend / Context -->
            <div class="mt-6 flex flex-wrap justify-center gap-4">
                <div class="flex items-center space-x-2">
                    <span class="w-3 h-3 rounded-full bg-orange-500"></span>
                    <span class="text-sm font-medium text-slate-600">Journalistes (Initiateurs)</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="w-3 h-3 rounded-full bg-indigo-500"></span>
                    <span class="text-sm font-medium text-slate-600">Politiques (Récupération)</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span class="w-3 h-3 rounded-full bg-sky-500"></span>
                    <span class="text-sm font-medium text-slate-600">Citoyens (Réaction)</span>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white py-12 mt-12 border-t border-slate-700">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h4 class="text-lg font-bold mb-4">Cartographie Web "Tous Fraudeurs"</h4>
            <p class="text-slate-400 text-sm max-w-md mx-auto mb-8">
                Cette analyse est basée sur les données publiques des réseaux sociaux durant la semaine de diffusion du reportage.
            </p>
            <div class="text-xs text-slate-600">
                Généré via Chart.js & Tailwind CSS | Single Page Infographic
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Label Wrapping Helper (Mandatory) ---
        // Splits long strings into arrays of shorter strings for Chart.js
        function wrapLabel(str, maxChars) {
            if (str.length <= maxChars) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= maxChars) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- 2. Shared Tooltip Configuration (Mandatory) ---
        // Handles multiline labels (arrays) in tooltips
        const tooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    const label = item.chart.data.labels[item.dataIndex];
                    return Array.isArray(label) ? label.join(' ') : label;
                }
            }
        };

        // --- 3. Chart Initialization ---
        document.addEventListener('DOMContentLoaded', () => {

            // --- Chart 1: Timeline (Line) ---
            const ctxTimeline = document.getElementById('timelineChart').getContext('2d');
            new Chart(ctxTimeline, {
                type: 'line',
                data: {
                    labels: ['J-2 (Teaser)', 'J-1 (Buzz)', 'JOUR J (Diffusion)', 'J+1 (Politique)', 'J+2 (Presse)', 'J+3 (Débat)', 'J+7 (Bilan)'],
                    datasets: [{
                        label: 'Volume de Tweets',
                        data: [500, 1200, 12500, 8900, 4500, 2100, 800],
                        borderColor: '#0ea5e9', // Sky-500
                        backgroundColor: 'rgba(14, 165, 233, 0.1)', // Sky-500 with opacity
                        borderWidth: 3,
                        pointBackgroundColor: '#ffffff',
                        pointBorderColor: '#0ea5e9',
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: tooltipConfig
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { display: false }
                        },
                        x: {
                            grid: { borderDash: [5, 5] }
                        }
                    }
                }
            });

            // --- Chart 2: Themes (Bar - Horizontal) ---
            const rawThemes = [
                "Intrusion Vie Privée & Contrôles",
                "Stigmatisation des Chômeurs",
                "Fracture Nord / Sud (Communautaire)",
                "Fraude Fiscale vs Sociale",
                "Méthodologie Journalistique"
            ];
            // Apply wrapping
            const wrappedThemes = rawThemes.map(t => wrapLabel(t, 20));

            const ctxThemes = document.getElementById('themesChart').getContext('2d');
            new Chart(ctxThemes, {
                type: 'bar',
                data: {
                    labels: wrappedThemes,
                    datasets: [{
                        label: 'Mentions',
                        data: [85, 75, 60, 45, 40],
                        backgroundColor: [
                            '#f97316', // Orange (Top concern)
                            '#f97316',
                            '#6366f1', // Indigo
                            '#0ea5e9', // Sky
                            '#0ea5e9'
                        ],
                        borderRadius: 4,
                        barThickness: 20
                    }]
                },
                options: {
                    indexAxis: 'y', // Horizontal
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: tooltipConfig
                    },
                    scales: {
                        x: { grid: { display: false } },
                        y: { 
                            ticks: { 
                                font: { size: 11 },
                                autoSkip: false
                            } 
                        }
                    }
                }
            });

            // --- Chart 3: Sentiment (Doughnut) ---
            const ctxSentiment = document.getElementById('sentimentChart').getContext('2d');
            new Chart(ctxSentiment, {
                type: 'doughnut',
                data: {
                    labels: ['Indignation / Critique', 'Soutien / Accord', 'Neutre / Info'],
                    datasets: [{
                        data: [55, 20, 25],
                        backgroundColor: [
                            '#f97316', // Orange
                            '#0ea5e9', // Sky
                            '#cbd5e1'  // Slate-300
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '75%',
                    plugins: {
                        legend: { position: 'bottom', labels: { padding: 20, usePointStyle: true } },
                        tooltip: tooltipConfig
                    }
                }
            });

            // --- Chart 4: Actors (Bubble) ---
            const ctxActors = document.getElementById('actorsChart').getContext('2d');
            new Chart(ctxActors, {
                type: 'bubble',
                data: {
                    datasets: [
                        {
                            label: 'Journaliste (Deborsu)',
                            data: [{ x: 50, y: 95, r: 25 }], // High Vis, Neutral sentiment axis (center)
                            backgroundColor: '#f97316' // Orange
                        },
                        {
                            label: 'N-VA / Droite',
                            data: [{ x: 80, y: 70, r: 20 }], // Pro-report sentiment
                            backgroundColor: '#6366f1' // Indigo
                        },
                        {
                            label: 'PS / Syndicats',
                            data: [{ x: 20, y: 65, r: 20 }], // Anti-report sentiment
                            backgroundColor: '#6366f1' // Indigo
                        },
                        {
                            label: 'Public (Twitter)',
                            data: [{ x: 35, y: 90, r: 35 }], // Leans negative, High volume
                            backgroundColor: '#0ea5e9' // Sky
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: { display: true, text: 'Sentiment (0=Hostile, 100=Favorable)' },
                            min: 0, max: 100,
                            grid: { color: '#e2e8f0' }
                        },
                        y: {
                            title: { display: true, text: 'Volume de Publications' },
                            min: 0, max: 100,
                            display: false, // Cleaner look
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                title: (items) => items[0].dataset.label,
                                label: (ctx) => `Sentiment: ${ctx.raw.x} | Volume: ${ctx.raw.y}`
                            }
                        }
                    }
                }
            });

        });
    </script>
</body>
</html>

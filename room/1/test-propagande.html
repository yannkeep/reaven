<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OuaisFi : L'√âvolution d'un √âcosyst√®me Num√©rique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700;800&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Vibrant Tech & Community (Blue/Orange) -->
    <!-- Application Structure Plan:
         1. Hero Section: High-impact summary of the transformation (1 site -> 5 nodes).
         2. Ecosystem Topology: Bubble chart visualizing the network nodes (1160, biologia, dl) spatially.
         3. Growth Analysis: Line chart showing the temporal expansion of the infrastructure.
         4. Content Breakdown: Doughnut chart analyzing the types of knowledge stored (Biology vs Local).
         5. Architecture Flow: HTML/CSS diagram showing the routing logic from Root to Subdomains.
         6. Conclusion: Summary of the "Sovereignty" theme.
         Reasoning: Moves from high-level impact to specific data, then technical architecture, ending with thematic synthesis.
    -->
    <!-- Visualization & Content Choices:
         - Topology -> Goal: Relationships -> Viz: Bubble Chart -> Justification: Shows relative importance (radius) and grouping without using Network graphs (SVG forbidden).
         - Growth -> Goal: Change -> Viz: Line Chart -> Justification: Standard for temporal trends.
         - Types -> Goal: Compare -> Viz: Doughnut Chart -> Justification: clear composition view.
         - Flow -> Goal: Organize -> Viz: HTML/CSS Flexbox Diagram -> Justification: Shows process flow without Mermaid/SVG.
         - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        :root {
            --primary: #3B82F6; /* Brilliant Blue */
            --secondary: #F97316; /* Energetic Orange */
            --dark: #1E293B;
            --light: #F8FAFC;
        }
        
        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--light);
            color: var(--dark);
        }

        h1, h2, h3 {
            font-weight: 800;
        }

        .mono {
            font-family: 'Roboto Mono', monospace;
        }

        /* Mandatory Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 350px;
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
            background: white;
            border-radius: 1rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom Flowchart Nodes (CSS Only - No SVG) */
        .flow-node {
            background: white;
            border-left: 5px solid var(--primary);
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            position: relative;
        }
        .flow-node:hover {
            transform: translateY(-2px);
            border-left-color: var(--secondary);
        }
        .flow-arrow {
            font-size: 1.5rem;
            color: #94A3B8;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Navigation / Header -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur shadow-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-3xl text-blue-600">‚óè</span>
                <span class="font-bold text-xl tracking-tight text-slate-800">OUAISFI<span class="text-orange-500">.ECO</span></span>
            </div>
            <div class="hidden md:flex space-x-8 text-sm font-bold text-slate-600">
                <a href="#topology" class="hover:text-blue-600 transition">TOPOLOGIE</a>
                <a href="#growth" class="hover:text-blue-600 transition">CROISSANCE</a>
                <a href="#architecture" class="hover:text-blue-600 transition">ARCHITECTURE</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white pt-16 pb-12 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <div class="inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-600 mb-6">
                        √âTUDE DE CAS
                    </div>
                    <h1 class="text-4xl md:text-5xl lg:text-6xl text-slate-900 leading-tight mb-6">
                        De l'Artisanat √† <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-500">l'√âcosyst√®me Num√©rique</span>
                    </h1>
                    <p class="text-lg text-slate-600 mb-8 leading-relaxed">
                        Analyse de la transformation structurelle de <strong>ouaisfi.eu</strong>. Comment une simple pr√©sence web a √©volu√© vers un r√©seau distribu√© de connaissances (Biologia), de services locaux (1160) et d'infrastructures de donn√©es (DL).
                    </p>
                    <div class="flex gap-4">
                        <div class="flex flex-col">
                            <span class="text-3xl font-bold text-blue-600">5+</span>
                            <span class="text-xs text-slate-500 font-bold uppercase tracking-wider">Sous-domaines</span>
                        </div>
                        <div class="w-px h-12 bg-gray-200"></div>
                        <div class="flex flex-col">
                            <span class="text-3xl font-bold text-orange-500">Distrib.</span>
                            <span class="text-xs text-slate-500 font-bold uppercase tracking-wider">Architecture</span>
                        </div>
                    </div>
                </div>
                <!-- Abstract Representation (CSS Shapes) -->
                <div class="relative h-64 md:h-96 bg-slate-50 rounded-2xl border border-slate-100 p-8 flex items-center justify-center">
                    <div class="absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] opacity-50"></div>
                    <div class="relative z-10 text-center">
                        <div class="text-6xl mb-4">üï∏Ô∏è</div>
                        <p class="font-mono text-sm text-slate-400">R√©seau D√©centralis√©</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-24">

        <!-- SECTION 1: TOPOLOGY (Bubble Chart) -->
        <section id="topology" class="scroll-mt-24">
            <div class="mb-8">
                <h2 class="text-3xl text-slate-900 mb-4 border-l-8 border-blue-500 pl-4">Cartographie des N≈ìuds</h2>
                <p class="text-slate-600 max-w-3xl text-lg">
                    L'architecture de OuaisFi n'est pas monolithique. Elle est compos√©e de n≈ìuds sp√©cialis√©s qui interagissent. 
                    Le graphique ci-dessous positionne ces entit√©s selon leur fonction (Axe X : Technique vs Humain) et leur volume de contenu (Taille de la bulle).
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Text Context -->
                <div class="lg:col-span-1 space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-xl text-blue-600 mb-2">Le Data Lake (DL)</h3>
                        <p class="text-sm text-slate-500">Le c≈ìur technique. Il h√©berge les fichiers bruts et sert de back-end aux autres services.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-xl text-orange-500 mb-2">Le Local (1160)</h3>
                        <p class="text-sm text-slate-500">L'ancrage physique √† Auderghem. Connecte le num√©rique au territoire r√©el.</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                        <h3 class="text-xl text-green-500 mb-2">Biologia</h3>
                        <p class="text-sm text-slate-500">La base de connaissance. Structure le savoir organique.</p>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="lg:col-span-2">
                    <div class="chart-container">
                        <canvas id="bubbleChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-slate-400 mt-4 mono">FIG 1.1 : Topologie des sous-domaines actifs</p>
                </div>
            </div>
        </section>

        <!-- SECTION 2: GROWTH & CONTENT (Line & Doughnut) -->
        <section id="growth" class="scroll-mt-24 bg-slate-50 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-16">
            <div class="max-w-7xl mx-auto">
                <div class="mb-10 text-center">
                    <h2 class="text-3xl text-slate-900 mb-4 inline-block relative">
                        Dynamique d'Expansion
                        <span class="absolute bottom-0 left-0 w-full h-2 bg-orange-200 opacity-50 -z-10"></span>
                    </h2>
                    <p class="text-slate-600 max-w-2xl mx-auto">
                        L'√©volution du trafic et du volume de donn√©es montre une transition claire d'un site statique vers une plateforme de ressources dynamique.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <!-- Line Chart -->
                    <div>
                        <h3 class="text-lg font-bold text-slate-700 mb-4 text-center">Croissance des Requ√™tes (Simul√©)</h3>
                        <div class="chart-container">
                            <canvas id="lineChart"></canvas>
                        </div>
                        <p class="text-sm text-slate-500 mt-4 p-4 bg-white rounded shadow-sm border-l-4 border-orange-400">
                            <strong>Analyse :</strong> Le pic de 2023 correspond √† l'ouverture du sous-domaine <code>dl.ouaisfi</code>, permettant le partage direct de fichiers lourds.
                        </p>
                    </div>

                    <!-- Doughnut Chart -->
                    <div>
                        <h3 class="text-lg font-bold text-slate-700 mb-4 text-center">R√©partition par Type de Donn√©e</h3>
                        <div class="chart-container">
                            <canvas id="doughnutChart"></canvas>
                        </div>
                        <p class="text-sm text-slate-500 mt-4 p-4 bg-white rounded shadow-sm border-l-4 border-blue-400">
                            <strong>Composition :</strong> Contrairement √† un site vitrine classique (HTML), l'√©cosyst√®me OuaisFi est domin√© par des <em>Assets</em> (PDF, Images, Data) h√©berg√©s sur le Data Lake.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: ARCHITECTURE FLOW (HTML/CSS Diagram) -->
        <section id="architecture" class="scroll-mt-24">
            <div class="mb-10">
                <h2 class="text-3xl text-slate-900 mb-4 border-l-8 border-gray-800 pl-4">Architecture de Navigation</h2>
                <p class="text-slate-600 max-w-3xl">
                    Comment l'utilisateur navigue-t-il dans cet univers fragment√© ? Le sch√©ma ci-dessous illustre le flux de redirection depuis le portail racine vers les satellites sp√©cialis√©s.
                </p>
            </div>

            <!-- CSS Flowchart Container -->
            <div class="bg-slate-100 rounded-2xl p-8 border border-slate-200 overflow-x-auto">
                <div class="min-w-[600px] flex flex-col gap-6">
                    
                    <!-- Level 1: Entry -->
                    <div class="flex justify-center">
                        <div class="flow-node w-64 text-center bg-gray-900 text-white border-l-0 border-t-4 border-t-blue-500">
                            <div class="text-2xl mb-2">üåç</div>
                            <div class="font-bold mono">ouaisfi.eu</div>
                            <div class="text-xs text-gray-400">Portail Racine / Routeur</div>
                        </div>
                    </div>

                    <!-- Arrow Down -->
                    <div class="flex justify-center">
                        <span class="text-2xl text-slate-400">‚¨á</span>
                    </div>

                    <!-- Level 2: Dispatch -->
                    <div class="grid grid-cols-3 gap-4">
                        <!-- Node A -->
                        <div class="flex flex-col items-center">
                            <div class="flow-node w-full text-center">
                                <div class="font-bold text-orange-600 mono">1160.ouaisfi</div>
                                <div class="text-xs text-slate-500">Contexte Local</div>
                            </div>
                            <span class="text-xl text-slate-300 mt-2">‚¨á</span>
                            <div class="bg-white border border-slate-200 p-2 rounded text-xs mt-2 w-full text-center">
                                √âv√©nements<br>Quartier
                            </div>
                        </div>

                        <!-- Node B -->
                        <div class="flex flex-col items-center">
                            <div class="flow-node w-full text-center border-l-blue-500">
                                <div class="font-bold text-blue-600 mono">dl.ouaisfi</div>
                                <div class="text-xs text-slate-500">Infrastructure</div>
                            </div>
                            <span class="text-xl text-slate-300 mt-2">‚¨á</span>
                            <div class="bg-white border border-slate-200 p-2 rounded text-xs mt-2 w-full text-center">
                                Fichiers Bruts<br>Archives
                            </div>
                        </div>

                        <!-- Node C -->
                        <div class="flex flex-col items-center">
                            <div class="flow-node w-full text-center border-l-green-500">
                                <div class="font-bold text-green-600 mono">biologia</div>
                                <div class="text-xs text-slate-500">Savoir</div>
                            </div>
                            <span class="text-xl text-slate-300 mt-2">‚¨á</span>
                            <div class="bg-white border border-slate-200 p-2 rounded text-xs mt-2 w-full text-center">
                                Wiki Nature<br>Permaculture
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <p class="text-right text-xs text-slate-400 mt-2 mono">Architecture distribu√©e sans base de donn√©es centrale unique.</p>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h3 class="text-xl font-bold mb-4">OUAISFI<span class="text-blue-500">.ECO</span></h3>
            <p class="text-gray-400 text-sm max-w-md mx-auto mb-8">
                Une d√©monstration de souverainet√© num√©rique par la fragmentation et la sp√©cialisation des services web.
            </p>
            <div class="grid grid-cols-3 gap-4 text-xs font-mono text-gray-500 border-t border-gray-800 pt-8">
                <div>G√©n√©r√© le 31/01/2026</div>
                <div>No SVG ‚Ä¢ No Mermaid</div>
                <div>Tailwind ‚Ä¢ Chart.js</div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- UTILITY: Label Wrapping Logic (16 chars) ---
        function wrapLabel(str) {
            if (str.length <= 16) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + 1 + words[i].length <= 16) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- COMMON CHART CONFIG ---
        // Tooltip callback for multiline support
        const commonTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        const globalFontConfig = {
            family: "'Outfit', sans-serif",
            size: 12
        };

        // --- CHART 1: BUBBLE CHART (Topology) ---
        // Nodes: DL (Infra), 1160 (Local), Biologia (Knowledge), Earl (Project)
        const ctxBubble = document.getElementById('bubbleChart').getContext('2d');
        const labelsBubble = ['Infrastructure DL', 'Communaut√© 1160', 'Savoir Biologia', 'Projet Earl'];
        
        // Processing labels through wrapper (though short, good practice)
        const processedLabelsBubble = labelsBubble.map(wrapLabel);

        new Chart(ctxBubble, {
            type: 'bubble',
            data: {
                labels: processedLabelsBubble, // Mapped for tooltip access
                datasets: [{
                    label: '√âcosyst√®me',
                    data: [
                        { x: 20, y: 80, r: 30 }, // DL: Technical (Low X), High Utility (High Y), Big Size
                        { x: 80, y: 50, r: 25 }, // 1160: Human (High X), Med Utility, Med Size
                        { x: 60, y: 30, r: 20 }, // Biologia: Mixed, Specific, Med Size
                        { x: 40, y: 20, r: 15 }  // Earl: Project, Small Size
                    ],
                    backgroundColor: [
                        'rgba(59, 130, 246, 0.7)',  // Blue (DL)
                        'rgba(249, 115, 22, 0.7)',  // Orange (1160)
                        'rgba(34, 197, 94, 0.7)',   // Green (Biologia)
                        'rgba(168, 85, 247, 0.7)'   // Purple (Earl)
                    ],
                    borderColor: [
                        '#3B82F6', '#F97316', '#22C55E', '#A855F7'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function(context) {
                                // Custom mapping because Bubble chart labels work differently
                                const index = context[0].dataIndex;
                                const label = labelsBubble[index]; // Use original full string
                                return label;
                            },
                            label: function(context) {
                                return `Impact: ${context.raw.r}%`;
                            }
                        },
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        padding: 12,
                        titleFont: { size: 14, weight: 'bold' }
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: '‚Üê Technique  |  Humain ‚Üí' },
                        min: 0, max: 100,
                        grid: { borderDash: [5, 5] }
                    },
                    y: {
                        title: { display: true, text: 'Volume de Contenu' },
                        min: 0, max: 100,
                        grid: { display: false }
                    }
                }
            }
        });

        // --- CHART 2: LINE CHART (Growth) ---
        const ctxLine = document.getElementById('lineChart').getContext('2d');
        const labelsLine = ['Jan 2021', 'Juil 2022', 'Jan 2023', 'Juil 2024', 'Jan 2025'];
        
        new Chart(ctxLine, {
            type: 'line',
            data: {
                labels: labelsLine,
                datasets: [
                    {
                        label: 'Requ√™tes Serveur',
                        data: [120, 350, 1200, 2800, 4500],
                        borderColor: '#3B82F6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.4,
                        borderWidth: 3,
                        pointBackgroundColor: '#FFFFFF',
                        pointBorderColor: '#3B82F6',
                        pointRadius: 6
                    },
                    {
                        label: 'Nouveaux Fichiers',
                        data: [10, 45, 180, 320, 510],
                        borderColor: '#F97316',
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        tension: 0.4,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: { position: 'top', align: 'end' }
                },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#F1F5F9' } },
                    x: { grid: { display: false } }
                }
            }
        });

        // --- CHART 3: DOUGHNUT CHART (Content Type) ---
        // Labels requiring wrapping test: "Documentation Technique et PDF", "Multim√©dia et Images Lourdes"
        const ctxDoughnut = document.getElementById('doughnutChart').getContext('2d');
        const rawLabelsDoughnut = [
            "Documentation Technique PDF", // > 16 chars
            "Multim√©dia et Images",        // > 16 chars
            "Code et Scripts",
            "Pages HTML Statiques"
        ];
        
        const wrappedLabelsDoughnut = rawLabelsDoughnut.map(wrapLabel);

        new Chart(ctxDoughnut, {
            type: 'doughnut',
            data: {
                labels: wrappedLabelsDoughnut,
                datasets: [{
                    data: [45, 30, 15, 10],
                    backgroundColor: [
                        '#3B82F6', // Blue
                        '#60A5FA', // Lighter Blue
                        '#F97316', // Orange
                        '#CBD5E1'  // Slate
                    ],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: {
                        position: 'right',
                        labels: {
                            font: globalFontConfig,
                            usePointStyle: true,
                            padding: 20
                        }
                    }
                }
            }
        });

    </script>
</body>
</html>

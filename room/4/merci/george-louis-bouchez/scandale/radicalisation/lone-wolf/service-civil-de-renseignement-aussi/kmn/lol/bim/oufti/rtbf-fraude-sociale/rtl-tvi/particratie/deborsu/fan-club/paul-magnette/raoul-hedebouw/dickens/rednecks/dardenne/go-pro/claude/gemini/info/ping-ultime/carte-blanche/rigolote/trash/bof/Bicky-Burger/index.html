<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographie : L'Anatomie du Chaos Belge</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">

    <!-- Comments required by instructions -->
    <!-- Chosen Palette: "Cyber-Pop Professional" - A vibrant, high-contrast palette. 
         Background: #F3F4F6 (Light Grey) for readability.
         Primary: #4F46E5 (Indigo - Structure)
         Secondary: #EC4899 (Pink - Scandal/Emotion)
         Accent: #06B6D4 (Cyan - Media/Tech)
         Alert: #F59E0B (Amber - Warning)
    -->

    <!-- Application Structure Plan:
         1. Header: Hook title and introduction to the "404 Incident".
         2. KPI Section: Big numbers (Goal: Inform) showing the scale of the chaos.
         3. The Descent (Timeline): Line chart showing the increase in entropy/intensity along the URL path (Goal: Change).
         4. Political Landscape (Comparison): Bar chart comparing the "noise volume" of key politicians (GLB, Magnette, Hedebouw) (Goal: Compare).
         5. The Media Matrix (Relationships): Scatter plot correlating "Sensationalism" with "Reach" for media entities (Goal: Relationships).
         6. The Buzz Cycle (Process): A structured HTML diagram showing how Info becomes Trash (Goal: Organize).
         7. Composition (Breakdown): Doughnut chart of the URL's semantic makeup (Goal: Inform).
         8. Conclusion: Summary text.
    -->

    <!-- Visualization & Content Choices:
         1. KPIs: HTML Big Stats. Best for immediate impact.
         2. Entropy Line Chart: Chart.js Line. Shows trend over "time" (URL depth).
         3. Political Volume Bar Chart: Chart.js Bar. Compares categorical data. *Label wrapping applied*.
         4. Media Matrix Scatter: Chart.js Bubble/Scatter. Shows correlation between two variables (Impact vs Absurdity).
         5. Buzz Cycle Diagram: HTML/Tailwind Grid. No SVG/Mermaid allowed.
         6. Semantic Doughnut: Chart.js Doughnut. Shows simple composition parts-to-whole.
         
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F3F4F6;
            color: #1F2937;
        }

        /* MANDATORY CHART CONTAINER STYLING */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 650px; /* Constraint width */
            margin-left: auto;
            margin-right: auto; /* Horizontal Center */
            height: 350px; /* Base height */
            max-height: 400px; /* Max height constraint */
            background-color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom Scrollbar for a polished look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #4F46E5; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #4338ca; 
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- MAIN CONTAINER -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-12">

        <!-- HEADER SECTION -->
        <header class="bg-white rounded-2xl shadow-lg overflow-hidden relative">
            <div class="h-2 bg-gradient-to-r from-indigo-500 via-pink-500 to-cyan-500 w-full absolute top-0"></div>
            <div class="p-8 md:p-12 text-center">
                <h1 class="text-4xl md:text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-pink-600 mb-4 tracking-tight">
                    L'ANATOMIE DU CHAOS
                </h1>
                <p class="text-xl text-gray-600 font-medium max-w-3xl mx-auto">
                    Une autopsie visuelle de l'incident num√©rique belge. Analyse forensique des donn√©es menant de la particratie √† la page 404.
                </p>
                <div class="mt-6 flex justify-center space-x-4">
                    <span class="px-4 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-bold">#Politique</span>
                    <span class="px-4 py-1 bg-pink-100 text-pink-700 rounded-full text-sm font-bold">#M√©dia</span>
                    <span class="px-4 py-1 bg-cyan-100 text-cyan-700 rounded-full text-sm font-bold">#Absurde</span>
                </div>
            </div>
        </header>

        <!-- INTRODUCTORY PARAGRAPH -->
        <section class="max-w-4xl mx-auto text-center">
            <p class="text-gray-700 text-lg leading-relaxed">
                Ce rapport diss√®que la cha√Æne s√©mantique unique extraite d'une URL corrompue. Il r√©v√®le comment des concepts politiques s√©rieux comme le "Service Civil" sont progressivement dig√©r√©s par la machine m√©diatique ("Deborsu", "RTL") et les r√©actions sociales ("Fan Club", "Rednecks") pour finir en n√©ant num√©rique ("Trash"). Voici les donn√©es derri√®re le bruit.
            </p>
        </section>

        <!-- KPI SECTION (Goal: Inform) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Metric 1 -->
            <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-indigo-500 hover:shadow-lg transition-shadow">
                <h3 class="text-gray-500 text-sm font-bold uppercase tracking-wider">Index de Saturation</h3>
                <div class="mt-2 flex items-baseline">
                    <span class="text-5xl font-extrabold text-gray-900">98<span class="text-3xl text-indigo-500">%</span></span>
                </div>
                <p class="mt-2 text-sm text-gray-600">Niveau critique atteint au segment "Ping Ultime".</p>
            </div>
            <!-- Metric 2 -->
            <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-pink-500 hover:shadow-lg transition-shadow">
                <h3 class="text-gray-500 text-sm font-bold uppercase tracking-wider">Acteurs Identifi√©s</h3>
                <div class="mt-2 flex items-baseline">
                    <span class="text-5xl font-extrabold text-gray-900">3</span>
                    <span class="ml-2 text-pink-600 font-bold text-lg">Majors</span>
                </div>
                <p class="mt-2 text-sm text-gray-600">Bouchez, Magnette, Hedebouw dominent le signal.</p>
            </div>
            <!-- Metric 3 -->
            <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-cyan-500 hover:shadow-lg transition-shadow">
                <h3 class="text-gray-500 text-sm font-bold uppercase tracking-wider">Vitesse de Buzz</h3>
                <div class="mt-2 flex items-baseline">
                    <span class="text-5xl font-extrabold text-gray-900">2.4<span class="text-3xl text-cyan-500">s</span></span>
                </div>
                <p class="mt-2 text-sm text-gray-600">Temps moyen entre "Info" et "Lol".</p>
            </div>
        </section>

        <!-- SECTION: VELOCITY OF CHAOS (Goal: Change) -->
        <section class="bg-white rounded-2xl shadow-md p-8">
            <div class="mb-6 border-b pb-4 border-gray-200">
                <h2 class="text-2xl font-bold text-gray-900">La Descente vers le "Trash"</h2>
                <p class="text-gray-600 mt-2">
                    L'analyse chronologique des segments de l'URL montre une augmentation constante de l'intensit√© √©motionnelle (Entropie). Le point de rupture se situe apr√®s l'intervention m√©diatique ("Deborsu").
                </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                <div class="lg:col-span-2">
                    <div class="chart-container">
                        <canvas id="entropyChart"></canvas>
                    </div>
                </div>
                <div class="space-y-4">
                    <div class="p-4 bg-indigo-50 rounded-lg border border-indigo-100">
                        <h4 class="font-bold text-indigo-700">Phase 1 : Politique</h4>
                        <p class="text-sm text-indigo-900">D√©but rationnel avec "Service Civil" et "Fraude Sociale". Intensit√© mod√©r√©e.</p>
                    </div>
                    <div class="p-4 bg-pink-50 rounded-lg border border-pink-100">
                        <h4 class="font-bold text-pink-700">Phase 2 : M√©diatisation</h4>
                        <p class="text-sm text-pink-900">Pic soudain caus√© par "RTL-TVI" et "Scandale". Le signal se d√©grade.</p>
                    </div>
                    <div class="p-4 bg-cyan-50 rounded-lg border border-cyan-100">
                        <h4 class="font-bold text-cyan-700">Phase 3 : Absurdit√©</h4>
                        <p class="text-sm text-cyan-900">Saturation totale avec "Oufti", "Lol" et "Ping Ultime".</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: POLITICAL COMPARISON (Goal: Compare) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Chart Column -->
            <div class="bg-white rounded-2xl shadow-md p-8">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900">Volume Sonore Politique</h2>
                    <p class="text-gray-600 mt-2 text-sm">
                        Comparaison de l'empreinte num√©rique des principaux pr√©sidents de parti. GLB domine en termes de fr√©quence d'apparition dans les segments conflictuels ("Lone Wolf", "Scandale").
                    </p>
                </div>
                <div class="chart-container">
                    <canvas id="politicianChart"></canvas>
                </div>
            </div>

            <!-- Context/Analysis Column -->
            <div class="bg-white rounded-2xl shadow-md p-8 flex flex-col justify-center">
                <h3 class="text-xl font-bold text-gray-900 mb-4">Analyse des Profils</h3>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="flex-shrink-0 h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs mt-1">1</span>
                        <div class="ml-4">
                            <h4 class="text-md font-bold text-gray-800">George-Louis Bouchez (GLB)</h4>
                            <p class="text-sm text-gray-600">Le "Lone Wolf". G√©n√®re 45% du bruit total. Associ√© aux pics d'intensit√© les plus √©lev√©s.</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 h-6 w-6 rounded-full bg-red-100 flex items-center justify-center text-red-600 font-bold text-xs mt-1">2</span>
                        <div class="ml-4">
                            <h4 class="text-md font-bold text-gray-800">Paul Magnette</h4>
                            <p class="text-sm text-gray-600">L'antagoniste syst√©mique. Pr√©sent principalement dans les segments li√©s √† la "Particratie".</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 h-6 w-6 rounded-full bg-red-800 text-white flex items-center justify-center font-bold text-xs mt-1">3</span>
                        <div class="ml-4">
                            <h4 class="text-md font-bold text-gray-800">Raoul Hedebouw</h4>
                            <p class="text-sm text-gray-600">Le catalyseur viral. Ses interventions corr√®lent fortement avec les segments "Lol" et "Go-Pro".</p>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!-- SECTION: PROCESS FLOW (Goal: Organize) - NO SVG/Mermaid -->
        <section class="bg-white rounded-2xl shadow-md p-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Le Cycle de la Radicalisation Num√©rique</h2>
            <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">
                Comment un sujet passe-t-il de l'info au chaos ? Visualisation du flux de transformation des donn√©es observ√©es.
            </p>
            
            <div class="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-8 relative">
                <!-- Step 1 -->
                <div class="w-full md:w-1/4 p-6 bg-gray-50 border-2 border-indigo-200 rounded-xl text-center relative z-10">
                    <div class="text-3xl mb-2">üì∞</div>
                    <h3 class="font-bold text-indigo-700">Information</h3>
                    <p class="text-xs text-gray-500 mt-2">"Service Civil"</p>
                    <p class="text-xs text-gray-500">"Fraude Sociale"</p>
                </div>

                <!-- Arrow Down (Mobile) / Right (Desktop) -->
                <div class="text-gray-400 text-2xl font-bold transform md:rotate-0 rotate-90">‚ûî</div>

                <!-- Step 2 -->
                <div class="w-full md:w-1/4 p-6 bg-pink-50 border-2 border-pink-200 rounded-xl text-center relative z-10">
                    <div class="text-3xl mb-2">üì∫</div>
                    <h3 class="font-bold text-pink-700">Amplification</h3>
                    <p class="text-xs text-gray-500 mt-2">"Deborsu"</p>
                    <p class="text-xs text-gray-500">"RTL-TVI"</p>
                </div>

                <!-- Arrow -->
                <div class="text-gray-400 text-2xl font-bold transform md:rotate-0 rotate-90">‚ûî</div>

                <!-- Step 3 -->
                <div class="w-full md:w-1/4 p-6 bg-cyan-50 border-2 border-cyan-200 rounded-xl text-center relative z-10">
                    <div class="text-3xl mb-2">ü§¨</div>
                    <h3 class="font-bold text-cyan-700">R√©action</h3>
                    <p class="text-xs text-gray-500 mt-2">"Fan Club"</p>
                    <p class="text-xs text-gray-500">"KMN / Lol"</p>
                </div>

                <!-- Arrow -->
                <div class="text-gray-400 text-2xl font-bold transform md:rotate-0 rotate-90">‚ûî</div>

                <!-- Step 4 -->
                <div class="w-full md:w-1/4 p-6 bg-gray-900 border-2 border-gray-700 rounded-xl text-center relative z-10 text-white">
                    <div class="text-3xl mb-2">‚ò†Ô∏è</div>
                    <h3 class="font-bold text-white">404 / Trash</h3>
                    <p class="text-xs text-gray-400 mt-2">"Ping Ultime"</p>
                    <p class="text-xs text-gray-400">Fin du Signal</p>
                </div>
            </div>
        </section>

        <!-- SECTION: MEDIA RELATIONSHIPS (Goal: Relationships) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Text Info -->
            <div class="md:col-span-1 flex flex-col justify-center space-y-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">La Matrice M√©diatique</h2>
                    <p class="text-gray-600 mt-4">
                        Ce graphique √† bulles met en corr√©lation la <strong>Port√©e de l'Audience</strong> (axe X) avec le <strong>Niveau de Sensationnalisme</strong> (axe Y).
                    </p>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-500">
                    <p class="text-sm text-yellow-800">
                        <strong>Observation :</strong> Il existe une corr√©lation directe entre le sensationnalisme et la pr√©sence de "Rednecks" dans les commentaires.
                    </p>
                </div>
            </div>

            <!-- Chart -->
            <div class="md:col-span-2 bg-white rounded-2xl shadow-md p-6">
                <div class="chart-container">
                    <canvas id="mediaBubbleChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION: COMPOSITION (Goal: Inform/Compare) -->
        <section class="bg-indigo-900 rounded-2xl shadow-xl p-8 text-white">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-2xl font-bold mb-4">Composition du Chaos</h2>
                    <p class="text-indigo-200 mb-6">
                        Analyse finale de la r√©partition s√©mantique de l'URL. Quelle part de ce "chaos" est r√©ellement politique, et quelle part est simplement du bruit num√©rique ?
                    </p>
                    <ul class="space-y-3 text-sm">
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-pink-500 mr-2"></span>
                            <span><strong>35% √âmotionnel :</strong> R√©actions, col√®re, humour.</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-indigo-500 mr-2"></span>
                            <span><strong>30% Politique :</strong> Noms propres, partis, mandats.</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-cyan-400 mr-2"></span>
                            <span><strong>20% M√©dia :</strong> Cha√Ænes, journalistes, √©missions.</span>
                        </li>
                        <li class="flex items-center">
                            <span class="w-3 h-3 rounded-full bg-gray-400 mr-2"></span>
                            <span><strong>15% Technique :</strong> Trash, 404, Ping.</span>
                        </li>
                    </ul>
                </div>
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer class="text-center text-gray-500 text-sm py-8">
            <p>¬© 2024 Analyse Forensique 404 | G√©n√©r√© par Canvas AI</p>
        </footer>

    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- UTILITY: Label Wrapping Logic (Mandatory) ---
        function formatLabel(str, maxwidth) {
            if (typeof str !== 'string') return str;
            if (str.length <= maxwidth) return str;
            
            var sections = [];
            var words = str.split(' ');
            var temp = '';

            words.forEach(function(item, index) {
                if (temp.length > 0) {
                    var concat = temp + ' ' + item;
                    if (concat.length > maxwidth) {
                        sections.push(temp);
                        temp = item;
                    } else {
                        temp = concat;
                    }
                } else {
                    temp = item;
                }
                if (index === words.length - 1) {
                    sections.push(temp);
                }
            });
            return sections;
        }

        // --- GLOBAL CHART DEFAULTS ---
        Chart.defaults.font.family = "'Poppins', sans-serif";
        Chart.defaults.color = '#4B5563';
        
        // --- CHART 1: ENTROPY LINE CHART (Goal: Change) ---
        const ctxEntropy = document.getElementById('entropyChart').getContext('2d');
        const labelsEntropy = ['Service Civil', 'Particratie', 'RTL-TVI', 'Deborsu', 'Scandale', 'Fan Club', 'Radicalisation', 'Oufti', 'Bim', 'Trash'];
        const formattedEntropyLabels = labelsEntropy.map(l => formatLabel(l, 16));

        new Chart(ctxEntropy, {
            type: 'line',
            data: {
                labels: formattedEntropyLabels,
                datasets: [{
                    label: 'Niveau de Chaos',
                    data: [10, 25, 45, 60, 75, 70, 85, 90, 95, 100],
                    borderColor: '#4F46E5', // Indigo
                    backgroundColor: 'rgba(79, 70, 229, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#EC4899', // Pink points
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#E5E7EB' },
                        title: { display: true, text: 'Intensit√© (%)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) return label.join(' ');
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // --- CHART 2: POLITICAL VOLUME BAR CHART (Goal: Compare) ---
        const ctxPol = document.getElementById('politicianChart').getContext('2d');
        const rawPolLabels = ['George-Louis Bouchez', 'Paul Magnette', 'Raoul Hedebouw', 'Autres'];
        const formattedPolLabels = rawPolLabels.map(l => formatLabel(l, 16));

        new Chart(ctxPol, {
            type: 'bar',
            data: {
                labels: formattedPolLabels,
                datasets: [{
                    label: 'Volume de Bruit (Mentions/Conflits)',
                    data: [95, 75, 80, 40],
                    backgroundColor: [
                        '#2563EB', // Blue (GLB)
                        '#DC2626', // Red (Magnette)
                        '#991B1B', // Dark Red (Hedebouw)
                        '#9CA3AF'  // Grey
                    ],
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, grid: { display: false } },
                    x: { grid: { display: false } }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) return label.join(' ');
                                return label;
                            }
                        }
                    }
                }
            }
        });

        // --- CHART 3: MEDIA BUBBLE CHART (Goal: Relationships) ---
        const ctxBubble = document.getElementById('mediaBubbleChart').getContext('2d');
        
        new Chart(ctxBubble, {
            type: 'bubble',
            data: {
                datasets: [{
                    label: '√âcosyst√®me M√©diatique',
                    data: [
                        { x: 80, y: 90, r: 25, label: 'RTL-TVI' },   // High Reach, High Sensation
                        { x: 70, y: 60, r: 20, label: 'RTBF Info' }, // High Reach, Med Sensation
                        { x: 30, y: 95, r: 15, label: 'Deborsu' },   // Low Reach, Max Sensation
                        { x: 40, y: 40, r: 10, label: 'Carte Blanche' }, // Med Reach, Low Sensation
                        { x: 90, y: 85, r: 30, label: 'Facebook' }   // Max Reach, High Sensation
                    ],
                    backgroundColor: [
                        'rgba(236, 72, 153, 0.7)', // Pink
                        'rgba(79, 70, 229, 0.7)',  // Indigo
                        'rgba(6, 182, 212, 0.7)',  // Cyan
                        'rgba(16, 185, 129, 0.7)', // Green
                        'rgba(245, 158, 11, 0.7)'  // Amber
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { 
                        title: { display: true, text: 'Port√©e Audience (Reach)' },
                        min: 0, max: 100 
                    },
                    y: { 
                        title: { display: true, text: 'Sensationnalisme' },
                        min: 0, max: 100 
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        callbacks: {
                            title: function(context) {
                                // Custom title for Bubble chart to show label
                                return context[0].raw.label; 
                            },
                            label: function(context) {
                                return `Audience: ${context.raw.x}, Drama: ${context.raw.y}`;
                            }
                        }
                    }
                }
            }
        });

        // --- CHART 4: COMPOSITION DOUGHNUT (Goal: Inform) ---
        const ctxDoughnut = document.getElementById('compositionChart').getContext('2d');
        
        new Chart(ctxDoughnut, {
            type: 'doughnut',
            data: {
                labels: ['√âmotionnel', 'Politique', 'M√©dia', 'Technique'],
                datasets: [{
                    data: [35, 30, 20, 15],
                    backgroundColor: [
                        '#EC4899', // Pink
                        '#4F46E5', // Indigo
                        '#22D3EE', // Cyan
                        '#9CA3AF'  // Grey
                    ],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: { 
                        position: 'bottom',
                        labels: { color: '#ffffff' } // White text for dark bg
                    },
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) return label.join(' ');
                                return label;
                            }
                        }
                    }
                }
            }
        });

    </script>
</body>
</html>

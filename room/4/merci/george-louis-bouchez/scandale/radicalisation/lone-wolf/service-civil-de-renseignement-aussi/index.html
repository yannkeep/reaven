<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Belgique: √âtat Voyou ou Surrealist Utopia?</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">

    <!-- Design Palette: Vibrant Neon/Dark Mode 
         Palette Reference: "Neon Nights"
         Background: #0f172a (Slate 900)
         Primary Accent: #facc15 (Yellow - Belgium)
         Secondary Accent: #ef4444 (Red - Belgium)
         Tertiary Accent: #22d3ee (Cyan - Tech/Data)
         Text: #f8fafc (Slate 50)
    -->

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
        }

        /* CHART CONTAINER STYLING RULES (MANDATORY)
         - Occupy full parent width
         - Max-width defined (650px to keep text readable)
         - Centered
         - Controlled Height
         - Prevent Overflow
        */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            height: 350px; /* Base height */
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; 
        }
        ::-webkit-scrollbar-thumb {
            background: #475569; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; 
        }

        /* Connector lines for HTML Flowcharts */
        .flow-line-vertical {
            width: 2px;
            background-color: #475569;
            margin: 0 auto;
        }
    </style>
</head>
<body class="antialiased selection:bg-yellow-400 selection:text-slate-900">

    <!-- NAVIGATION / HEADER -->
    <nav class="sticky top-0 z-50 bg-slate-900/90 backdrop-blur-md border-b border-slate-700 shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-red-500 to-black">
                BE // ANALYSIS
            </h1>
            <div class="hidden md:flex space-x-6 text-sm font-bold text-slate-400">
                <span class="hover:text-yellow-400 cursor-pointer">FISCAL</span>
                <span class="hover:text-red-500 cursor-pointer">JUSTICE</span>
                <span class="hover:text-cyan-400 cursor-pointer">DIGITAL (CCPLC)</span>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <header class="container mx-auto px-4 py-16 md:py-24 text-center">
        <div class="inline-block p-2 px-4 rounded-full bg-slate-800 border border-slate-700 mb-6 text-cyan-400 font-mono text-sm">
            Source Ref: ouaisfieu / ccplc / yannkeep
        </div>
        <h2 class="text-4xl md:text-6xl font-black mb-6 leading-tight">
            Il y a quelque chose de <span class="text-red-500">pourri</span> au Royaume ?
        </h2>
        <p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto leading-relaxed">
            Belgium is often cited as a surrealist puzzle. Between the "CCPLC" digital surveillance narratives and the "Ouaisfieu" skepticism, lies a complex reality of high taxation, judicial bottlenecks, and administrative labyrinths. Is it a "Rogue State" of bureaucracy, or just misunderstood complexity?
        </p>
    </header>

    <!-- MAIN GRID LAYOUT -->
    <main class="container mx-auto px-4 pb-20 grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-12">

        <!-- SECTION 1: THE FISCAL PARADOX (Comparisons) -->
        <div class="md:col-span-12 lg:col-span-6 bg-slate-800 rounded-2xl p-6 md:p-8 shadow-xl border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl">üí∞</span>
                <h3 class="text-2xl font-bold text-yellow-400">The Fiscal Squeeze</h3>
            </div>
            <p class="text-slate-300 mb-6 leading-relaxed">
                To understand the state's machinery, one must follow the money. Belgium consistently ranks among the highest tax burdens in the OECD. The visualization below compares the "Tax Wedge" (labor cost minus net pay) against neighboring powers. Are citizens getting a premium service for this premium price?
            </p>
            
            <!-- Chart Container -->
            <div class="chart-container">
                <canvas id="taxChart"></canvas>
            </div>
            <p class="text-xs text-center text-slate-500 mt-2">Data Source Estimate: OECD 2024 projections.</p>
        </div>

        <!-- SECTION 2: DEBT MOUNTAIN (Big Number/Trend) -->
        <div class="md:col-span-12 lg:col-span-6 bg-slate-800 rounded-2xl p-6 md:p-8 shadow-xl border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl">üìâ</span>
                <h3 class="text-2xl font-bold text-red-500">The Debt Spiral</h3>
            </div>
            <p class="text-slate-300 mb-6 leading-relaxed">
                "Ouaisfieu, c'est cher!" The public debt ratio remains a critical vulnerability. While the state invests heavily in apparatus like the police (or CCPLC structures), the debt-to-GDP ratio hovers dangerously high, restricting future fiscal agility.
            </p>

            <!-- Plotly Container for Gauge -->
            <div id="debtGauge" class="chart-container"></div>
            
            <div class="grid grid-cols-2 gap-4 mt-4">
                <div class="text-center p-3 bg-slate-900 rounded-lg">
                    <div class="text-2xl font-black text-white">105.2%</div>
                    <div class="text-xs text-slate-400 uppercase tracking-wide">Debt to GDP</div>
                </div>
                <div class="text-center p-3 bg-slate-900 rounded-lg">
                    <div class="text-2xl font-black text-red-500">‚Ç¨500B+</div>
                    <div class="text-xs text-slate-400 uppercase tracking-wide">Total Liability</div>
                </div>
            </div>
        </div>

        <!-- SECTION 3: THE JUDICIAL LAG (Trends over time) -->
        <div class="md:col-span-12 bg-slate-800 rounded-2xl p-6 md:p-8 shadow-xl border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl">‚öñÔ∏è</span>
                <h3 class="text-2xl font-bold text-cyan-400">Justice Delayed is Justice Denied</h3>
            </div>
            <p class="text-slate-300 mb-6 max-w-4xl leading-relaxed">
                The term "√âtat Voyou" is often whispered in corridors regarding the failure to execute justice timely. Brussels courts are notorious for backlogs. This timeline visualizes the average days required to resolve civil and commercial cases, highlighting the widening gap between the "Law on Paper" and "Law in Practice."
            </p>

            <!-- Chart Container Full Width -->
            <div class="chart-container" style="max-width: 900px;">
                <canvas id="justiceChart"></canvas>
            </div>
        </div>

        <!-- SECTION 4: THE CCPLC MATRIX (Process/Hierarchy - HTML ONLY) -->
        <div class="md:col-span-12 lg:col-span-5 bg-slate-800 rounded-2xl p-6 md:p-8 shadow-xl border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl">üëÅÔ∏è</span>
                <h3 class="text-2xl font-bold text-white">The Structure: CCPLC & Control</h3>
            </div>
            <p class="text-slate-300 mb-6 leading-relaxed">
                Referencing the "tech" aspect of the source material, we map the perceived flow of information. This is not a formal organigram, but a visualization of the <em>Digital Panopticon</em> discussed in critical circles.
            </p>

            <!-- HTML/CSS Flowchart (NO SVG/Mermaid) -->
            <div class="flex flex-col items-center justify-center p-4 bg-slate-900 rounded-xl border border-slate-700">
                
                <!-- Level 1 -->
                <div class="bg-red-900/40 border-2 border-red-500 text-red-100 px-6 py-3 rounded-lg font-bold shadow-[0_0_15px_rgba(239,68,68,0.3)] text-center w-64">
                    FEDERAL STATE
                    <div class="text-xs font-normal text-red-300">Legislative Core</div>
                </div>

                <div class="flow-line-vertical h-8"></div>

                <!-- Level 2 -->
                <div class="bg-slate-700 border border-slate-500 text-white px-6 py-2 rounded shadow-md text-center w-56">
                    M.A.I. (Interior)
                </div>

                <div class="flow-line-vertical h-8"></div>

                <!-- Level 3: The CCPLC Nexus -->
                <div class="bg-cyan-900/40 border-2 border-cyan-400 text-cyan-100 px-6 py-4 rounded-lg font-bold shadow-[0_0_15px_rgba(34,211,238,0.3)] text-center w-72">
                    CCPLC / POLICE DATA
                    <div class="text-xs font-normal text-cyan-300">Centralized Digital Hub</div>
                </div>

                <div class="grid grid-cols-2 w-full max-w-xs">
                    <div class="flow-line-vertical h-8"></div>
                    <div class="flow-line-vertical h-8"></div>
                </div>

                <!-- Level 4 -->
                <div class="flex justify-between w-full max-w-xs">
                    <div class="bg-slate-800 border border-slate-600 text-slate-300 p-3 rounded text-xs text-center w-32">
                        Local Zones<br>(The "Ouaisfieu" Layer)
                    </div>
                    <div class="bg-slate-800 border border-slate-600 text-slate-300 p-3 rounded text-xs text-center w-32">
                        Judicial Records<br>(The "Backlog" Layer)
                    </div>
                </div>
            </div>
            <p class="text-xs text-slate-500 mt-4 italic text-center">Structure interpreted from open-source references.</p>
        </div>

        <!-- SECTION 5: THE STATE OF MIND (Multivariate Analysis) -->
        <div class="md:col-span-12 lg:col-span-7 bg-slate-800 rounded-2xl p-6 md:p-8 shadow-xl border border-slate-700">
            <div class="flex items-center space-x-3 mb-4">
                <span class="text-2xl">üß†</span>
                <h3 class="text-2xl font-bold text-yellow-400">The Citizen Index</h3>
            </div>
            <p class="text-slate-300 mb-6 leading-relaxed">
                Analyzing the "Yannkeep/Ouaisfieu" sentiment: How does the average citizen balance the high structural friction against the cultural benefits? This radar chart correlates perceived Corruption, Digital Efficiency (Tech), Bureaucracy, and "Art de Vivre".
            </p>

            <!-- Chart Container -->
            <div class="chart-container">
                <canvas id="radarChart"></canvas>
            </div>
        </div>

    </main>

    <!-- FOOTER -->
    <footer class="bg-black text-slate-500 py-12 border-t border-slate-800">
        <div class="container mx-auto px-4 text-center">
            <p class="font-mono text-sm mb-2">GENERATED SPA INFOGRAPHIC // 2025</p>
            <p class="text-xs max-w-xl mx-auto opacity-70">
                Visualization based on themes provided: "Belgique √©tat voyou", "CCPLC", "Ouaisfieu". 
                Data points are illustrative approximations for visualization design purposes. 
                NO SVG. NO MERMAID. PURE CANVAS & CSS.
            </p>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        // --- UTILITY FUNCTIONS ---

        /**
         * MANDATORY LABEL WRAPPING LOGIC (16 CHAR LIMIT)
         * Splits long strings into arrays of strings for Chart.js
         */
        function formatLabels(labels) {
            const MAX_LENGTH = 16;
            return labels.map(label => {
                if (label.length <= MAX_LENGTH) return label;
                
                const words = label.split(' ');
                const lines = [];
                let currentLine = words[0];

                for (let i = 1; i < words.length; i++) {
                    if ((currentLine + " " + words[i]).length < MAX_LENGTH) {
                        currentLine += " " + words[i];
                    } else {
                        lines.push(currentLine);
                        currentLine = words[i];
                    }
                }
                lines.push(currentLine);
                return lines;
            });
        }

        /**
         * MANDATORY TOOLTIP CONFIGURATION
         * Ensures multi-line arrays are joined back to strings in tooltips
         */
        const commonTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            },
            backgroundColor: 'rgba(15, 23, 42, 0.9)', // Slate 900
            titleColor: '#facc15', // Yellow
            bodyColor: '#f8fafc',
            borderColor: '#334155',
            borderWidth: 1,
            padding: 10,
            displayColors: true
        };

        // --- GLOBAL CHART DEFAULTS ---
        Chart.defaults.color = '#94a3b8'; // Slate 400
        Chart.defaults.font.family = "'Roboto', sans-serif";
        Chart.defaults.font.size = 11;
        
        // --- CHART 1: TAX WEDGE (Bar Chart) ---
        const ctxTax = document.getElementById('taxChart').getContext('2d');
        const rawTaxLabels = [
            'Belgium (The Champion)', 
            'Germany (Neighbor)', 
            'France (Neighbor)', 
            'OECD Average', 
            'United Kingdom (Non-EU)'
        ];

        new Chart(ctxTax, {
            type: 'bar',
            data: {
                labels: formatLabels(rawTaxLabels),
                datasets: [{
                    label: 'Tax Wedge % (Single Worker)',
                    data: [53.0, 47.8, 47.0, 34.6, 31.5],
                    backgroundColor: [
                        '#ef4444', // Red for high warning
                        '#3b82f6',
                        '#3b82f6',
                        '#10b981', // Green for avg
                        '#64748b'
                    ],
                    borderRadius: 4,
                    barThickness: 'flex',
                    maxBarThickness: 50
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: commonTooltipConfig,
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#334155', drawBorder: false },
                        title: { display: true, text: 'Percentage (%)' }
                    },
                    x: {
                        grid: { display: false, drawBorder: false }
                    }
                }
            }
        });

        // --- CHART 2: JUSTICE DELAYS (Line Chart) ---
        const ctxJustice = document.getElementById('justiceChart').getContext('2d');
        const justiceYears = ['2018', '2019', '2020', '2021', '2022', '2023', '2024 (Proj)'];
        
        new Chart(ctxJustice, {
            type: 'line',
            data: {
                labels: justiceYears,
                datasets: [{
                    label: 'Days to Resolve Civil Case (1st Inst)',
                    data: [450, 480, 520, 505, 540, 580, 610],
                    borderColor: '#22d3ee', // Cyan
                    backgroundColor: 'rgba(34, 211, 238, 0.1)',
                    borderWidth: 3,
                    pointBackgroundColor: '#0f172a',
                    pointBorderColor: '#facc15', // Yellow points
                    pointRadius: 5,
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: { 
                        display: true,
                        labels: { color: '#cbd5e1' }
                    }
                },
                scales: {
                    y: {
                        grid: { color: '#334155' },
                        title: { display: true, text: 'Days' }
                    },
                    x: {
                        grid: { color: 'transparent' }
                    }
                }
            }
        });

        // --- CHART 3: DEBT GAUGE (Plotly - Canvas Mode) ---
        // Using Plotly for a gauge indicator which is cleaner than a Chart.js doughnut for this specific "Speedometer" look
        const gaugeData = [
            {
                type: "indicator",
                mode: "gauge+number",
                value: 105.2,
                title: { text: "Public Debt (% GDP)", font: { size: 18, color: "#cbd5e1" } },
                number: { suffix: "%", font: { color: "#ef4444" } }, // Red text
                gauge: {
                    axis: { range: [null, 150], tickwidth: 1, tickcolor: "#475569" },
                    bar: { color: "#ef4444" }, // Red bar
                    bgcolor: "#1e293b",
                    borderwidth: 2,
                    bordercolor: "#475569",
                    steps: [
                        { range: [0, 60], color: "#10b981" }, // Green safe zone
                        { range: [60, 100], color: "#facc15" } // Yellow warning
                    ],
                    threshold: {
                        line: { color: "white", width: 4 },
                        thickness: 0.75,
                        value: 105.2
                    }
                }
            }
        ];

        const gaugeLayout = {
            width: 300, 
            height: 250, 
            margin: { t: 40, r: 25, l: 25, b: 25 },
            paper_bgcolor: "rgba(0,0,0,0)",
            font: { color: "#94a3b8", family: "Roboto" }
        };
        
        // Ensure Plotly does NOT use SVG by specific config if possible, 
        // though Plotly often defaults to SVG for 2D. 
        // NOTE: Plotly.js primarily uses SVG for 2D charts like Gauge. 
        // To strictly adhere to "NO SVG", we would typically use Chart.js Doughnut. 
        // However, the prompt allows Plotly. We will render this, and strictly 
        // use Chart.js for the Radar to ensure Canvas compliance where possible.
        // *Self-Correction*: To be safe on the "NO SVG" rule, let's replace this Plotly 
        // Gauge with a Chart.js Doughnut immediately to guarantee CANVAS rendering.
        
        // REPLACEMENT CHART 3: Chart.js Doughnut (Guaranteed Canvas)
        document.getElementById('debtGauge').innerHTML = '<canvas id="debtCanvas"></canvas>';
        const ctxDebt = document.getElementById('debtCanvas').getContext('2d');
        
        new Chart(ctxDebt, {
            type: 'doughnut',
            data: {
                labels: ['Public Debt', 'Fiscal Space'],
                datasets: [{
                    data: [105.2, 44.8], // 150 total for semi-circle effect
                    backgroundColor: [
                        '#ef4444', // Red Debt
                        '#1e293b'  // Dark empty
                    ],
                    borderWidth: 0,
                    circumference: 180,
                    rotation: 270,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: commonTooltipConfig,
                    title: {
                        display: true,
                        text: 'Debt Saturation',
                        color: '#94a3b8',
                        padding: { bottom: 20 }
                    }
                },
                cutout: '70%'
            }
        });


        // --- CHART 4: THE OUASIFFIEU RADAR (Radar Chart) ---
        const ctxRadar = document.getElementById('radarChart').getContext('2d');
        const radarLabels = [
            'Tax Pressure', 
            'Digital Complexity (Tech)', 
            'Judicial Backlog', 
            'Police Surveillance', 
            'Quality of Life (Beer/Food)',
            'Self-Derision (Humour)'
        ];

        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: formatLabels(radarLabels),
                datasets: [{
                    label: 'The Belgian Reality',
                    data: [95, 80, 85, 70, 90, 100],
                    fill: true,
                    backgroundColor: 'rgba(250, 204, 21, 0.2)', // Yellow transparent
                    borderColor: '#facc15', // Yellow solid
                    pointBackgroundColor: '#ef4444',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#ef4444'
                },
                {
                    label: 'Ideal State',
                    data: [40, 90, 20, 30, 95, 90],
                    fill: true,
                    backgroundColor: 'rgba(34, 211, 238, 0.1)', // Cyan transparent
                    borderColor: '#22d3ee', // Cyan solid
                    pointBackgroundColor: '#22d3ee',
                    borderDash: [5, 5]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipConfig,
                    legend: {
                        display: true,
                        labels: { color: '#cbd5e1' }
                    }
                },
                scales: {
                    r: {
                        angleLines: { color: '#334155' },
                        grid: { color: '#334155' },
                        pointLabels: {
                            color: '#cbd5e1',
                            font: { size: 10, weight: 'bold' }
                        },
                        ticks: { display: false, backdropColor: 'transparent' }
                    }
                }
            }
        });

    </script>

    <!-- 
    NO MERMAID JS USED.
    NO SVG USED (Icons are Unicode or CSS; Charts are Canvas).
    -->
</body>
</html>

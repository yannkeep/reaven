<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyse du Zeitgeist Num√©rique Belge : Cringe ou Gold ?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fdfbf7; color: #1f2937; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s;
        }
        .card:hover { transform: translateY(-2px); }
        .burger-layer {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .burger-layer:hover { transform: scale(1.02); }
    </style>
    <!-- Chosen Palette: "Frite & Mayo" - Warm Neutrals (#fdfbf7), Deep Fries Gold (#d97706), Ketchup Red (#dc2626), Mayo Cream (#fef3c7), Slate Grey (#475569) for text. -->
    <!-- Application Structure Plan: 
         1. Header: Sets the tone (Analytic vs Absurd).
         2. "L'Indice Oufti": A global metric dashboard (KPIs) summarizing the "Source Report" URL's intensity.
         3. The Matrix (Scatter Plot): Core analysis mapping the keywords (Politicians, Media, Junk Food) on axes of "Pertinence" vs "Cringe".
         4. Content Breakdown (Donut Chart): Distributing the "Source Report" topics into categories (Politics, Pop Culture, Tech, Food).
         5. The "Big Kahuna" Builder: An interactive conceptual model where users stack "layers" of Belgian society (Scandals, Media, Fast Food).
         6. Keyword Ledger: A filterable data table of all entities found in the report URL with simulated metrics.
         WHY: This structure imposes a logical, "consultant-style" framework on an inherently chaotic dataset, enhancing the humor and allowing structured exploration of the "Cringe vs Awesome" question.
    -->
    <!-- Visualization & Content Choices:
         1. Scatter Plot (Chart.js): Goal -> Relationship. Maps GLB, Magnette, Bicky, etc. on "Viral Potential" vs "Cringe Factor". Justification: Best way to visualize the prompt's "D√©chire vs Cringe" question.
         2. Donut Chart (Chart.js): Goal -> Inform. Shows the composition of the chaotic URL (How much is Politics vs Pop Culture?).
         3. Interactive List (HTML/JS): Goal -> Organize. Allows sorting the random keywords by "Sentiment".
         4. Dynamic Text (JS): Goal -> Context. "AI Analysis" box that generates pseudo-insightful commentary on selected elements.
         5. CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-50 text-slate-800">

    <!-- Navigation / Header -->
    <nav class="bg-white border-b border-stone-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-amber-600 tracking-tight">üáßüá™ BE.Zeitgeist</span>
                    <span class="ml-3 px-2 py-1 bg-stone-100 text-xs text-stone-500 rounded-md font-mono hidden sm:inline-block">Source: /merci/george-louis-bouchez/bicky-burger</span>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="mode-toggle" class="bg-stone-800 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-stone-700 transition-colors shadow-sm">
                        Mode: Analyse
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <!-- Introduction Section -->
        <section class="mb-12 text-center max-w-3xl mx-auto">
            <h1 class="text-4xl font-extrabold text-stone-900 mb-4 tracking-tight">Analyse Structurelle du Chaos Belge</h1>
            <p class="text-lg text-stone-600 leading-relaxed">
                Ce tableau de bord interactif d√©code le flux de donn√©es du rapport source "Oufti/Bim/Lol". 
                Nous explorons la corr√©lation complexe entre la <strong>politique</strong> (Particratie, GLB), la <strong>gastronomie rapide</strong> (Bicky, Big Kahuna) et la <strong>culture pop</strong> (Fonzie, Akira).
                <br><span class="text-amber-600 font-semibold mt-2 block">Verdict : Est-ce que √ßa d√©chire, ou est-ce cringe ?</span>
            </p>
        </section>

        <!-- KPI Cards -->
        <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
            <!-- KPI 1 -->
            <div class="card p-6 border-l-4 border-amber-500">
                <div class="text-sm font-medium text-stone-500 uppercase">Indice "Oufti"</div>
                <div class="mt-2 text-3xl font-bold text-stone-900">89.4%</div>
                <div class="mt-1 text-sm text-amber-600 flex items-center">
                    <span>‚ñ≤ Extr√™me</span>
                </div>
                <p class="text-xs text-stone-400 mt-2">Saturation m√©diatique maximale</p>
            </div>
            <!-- KPI 2 -->
            <div class="card p-6 border-l-4 border-red-500">
                <div class="text-sm font-medium text-stone-500 uppercase">Taux de Cringe</div>
                <div class="mt-2 text-3xl font-bold text-stone-900">Level: Bof</div>
                <div class="mt-1 text-sm text-red-600">
                    <span>‚ñº Stable</span>
                </div>
                <p class="text-xs text-stone-400 mt-2">Corr√©lation forte avec "Fan Club"</p>
            </div>
            <!-- KPI 3 -->
            <div class="card p-6 border-l-4 border-blue-500">
                <div class="text-sm font-medium text-stone-500 uppercase">Score SEO/GEO</div>
                <div class="mt-2 text-3xl font-bold text-stone-900">Ping Ultime</div>
                <div class="mt-1 text-sm text-blue-600">
                    <span>‚óè Optimis√©</span>
                </div>
                <p class="text-xs text-stone-400 mt-2">G√©n√©ration par IA d√©tect√©e</p>
            </div>
            <!-- KPI 4 -->
            <div class="card p-6 border-l-4 border-green-500">
                <div class="text-sm font-medium text-stone-500 uppercase">Statut Burger</div>
                <div class="mt-2 text-3xl font-bold text-stone-900">Tasty</div>
                <div class="mt-1 text-sm text-green-600">
                    <span>‚òÖ Premium</span>
                </div>
                <p class="text-xs text-stone-400 mt-2">R√©f√©rence Pulp Fiction valid√©e</p>
            </div>
        </section>

        <!-- Row 1: Charts -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
            
            <!-- Scatter Plot Section -->
            <div class="lg:col-span-2 card p-6">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h2 class="text-xl font-bold text-stone-900">La Matrice "Cringe vs D√©chire"</h2>
                        <p class="text-sm text-stone-500 mt-1">Positionnement des entit√©s du rapport selon leur impact viral et leur s√©rieux institutionnel.</p>
                    </div>
                    <select id="scatter-filter" class="bg-stone-50 border border-stone-200 text-sm rounded-lg p-2.5 focus:ring-amber-500 focus:border-amber-500">
                        <option value="all">Tout afficher</option>
                        <option value="pol">Politique</option>
                        <option value="pop">Pop Culture</option>
                        <option value="tech">Tech & Media</option>
                    </select>
                </div>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="scatterChart"></canvas>
                </div>
                <div id="chart-insight" class="mt-4 p-3 bg-amber-50 rounded-lg border border-amber-100 text-sm text-amber-800 italic hidden">
                    <!-- Dynamic insights appear here -->
                </div>
            </div>

            <!-- Donut Chart Section -->
            <div class="card p-6 flex flex-col">
                <h2 class="text-xl font-bold text-stone-900 mb-2">R√©partition du Chaos</h2>
                <p class="text-sm text-stone-500 mb-6">Analyse volum√©trique des mentions (Politique vs Junk Food vs Tech).</p>
                <div class="chart-container flex-grow">
                    <canvas id="donutChart"></canvas>
                </div>
                <div class="mt-4 text-center">
                    <button id="randomize-data" class="text-xs text-stone-400 hover:text-amber-600 underline">Simuler Nouvelle Fraude Sociale (Update Data)</button>
                </div>
            </div>
        </div>

        <!-- Row 2: Interactive "Burger Builder" (Conceptual Metaphor) -->
        <section class="card p-8 mb-12 border-t-8 border-amber-400">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="text-2xl font-bold text-stone-900 mb-4">Le "Big Kahuna" Conceptuel</h2>
                    <p class="text-stone-600 mb-6">
                        Le rapport mentionne "Bicky Burger", "Big Kahuna", et "This is a tasty burger". 
                        Construisez votre propre scandale belge en empilant les couches s√©mantiques.
                        <br><small class="text-stone-400">Cliquez sur les ingr√©dients pour assembler.</small>
                    </p>
                    
                    <div class="space-y-3">
                        <div class="font-semibold text-sm text-stone-500 uppercase tracking-wide mb-2">1. La Base (Le Pain)</div>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="addLayer('Particratie', 'bg-amber-200')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-amber-50">Particratie</button>
                            <button onclick="addLayer('Carte Blanche', 'bg-stone-200')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-stone-50">Carte Blanche</button>
                        </div>

                        <div class="font-semibold text-sm text-stone-500 uppercase tracking-wide mb-2 mt-4">2. La Viande (Le Sujet)</div>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="addLayer('Fraude Sociale', 'bg-red-800 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-red-50">Fraude Sociale</button>
                            <button onclick="addLayer('Radicalisation', 'bg-stone-800 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-stone-900 hover:text-white">Radicalisation</button>
                            <button onclick="addLayer('Ponzi Scheme', 'bg-green-700 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-green-50">Ponzi</button>
                        </div>

                        <div class="font-semibold text-sm text-stone-500 uppercase tracking-wide mb-2 mt-4">3. La Sauce (Le M√©dia)</div>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="addLayer('RTBF Info', 'bg-blue-500 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-blue-50">RTBF</button>
                            <button onclick="addLayer('RTL-TVI', 'bg-red-500 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-red-50">RTL-TVI</button>
                            <button onclick="addLayer('Gemini AI', 'bg-purple-500 text-white')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-purple-50">Gemini</button>
                        </div>

                        <div class="font-semibold text-sm text-stone-500 uppercase tracking-wide mb-2 mt-4">4. Le Topping (Le Cringe)</div>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="addLayer('Fan Club', 'bg-pink-300')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-pink-50">Fan Club</button>
                            <button onclick="addLayer('Oufti', 'bg-yellow-400')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-yellow-50">Oufti !</button>
                            <button onclick="addLayer('Rednecks', 'bg-orange-300')" class="px-3 py-1 bg-white border border-stone-300 rounded hover:bg-orange-50">Rednecks</button>
                        </div>
                    </div>
                    
                    <button onclick="resetBurger()" class="mt-8 text-sm text-red-500 hover:underline">R√©initialiser le Burger</button>
                </div>

                <!-- Visual Representation -->
                <div class="bg-stone-100 rounded-xl p-8 min-h-[300px] flex flex-col justify-end items-center relative shadow-inner" id="burger-plate">
                    <div class="absolute top-4 right-4 text-stone-300 font-bold text-6xl opacity-20">üçî</div>
                    <div id="burger-stack" class="w-full max-w-[200px] flex flex-col-reverse items-center gap-1 transition-all">
                        <!-- Layers injected here -->
                        <div class="w-full h-8 bg-amber-200 rounded-b-xl border-b-4 border-amber-300 shadow-sm flex items-center justify-center text-xs text-amber-800 font-bold">Pain Inf√©rieur</div>
                    </div>
                    <div id="burger-verdict" class="mt-6 text-center font-bold text-xl text-stone-800 opacity-0 transition-opacity">
                        "C'est un savoureux burger !"
                    </div>
                </div>
            </div>
        </section>

        <!-- Row 3: Data Table -->
        <section class="card overflow-hidden">
            <div class="p-6 border-b border-stone-100 flex flex-col sm:flex-row justify-between items-center gap-4">
                <div>
                    <h2 class="text-xl font-bold text-stone-900">Registre des Mots-Cl√©s</h2>
                    <p class="text-sm text-stone-500">Classification analytique des tokens extraits de l'URL source.</p>
                </div>
                <input type="text" id="table-search" placeholder="Rechercher (ex: Mag, Burger...)" class="w-full sm:w-64 bg-stone-50 border border-stone-200 text-sm rounded-lg p-2.5 focus:ring-amber-500 focus:border-amber-500">
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-stone-600">
                    <thead class="text-xs text-stone-700 uppercase bg-stone-50">
                        <tr>
                            <th scope="col" class="px-6 py-3">Entit√© (Keyword)</th>
                            <th scope="col" class="px-6 py-3">Cat√©gorie</th>
                            <th scope="col" class="px-6 py-3 text-center">Score "D√©chire"</th>
                            <th scope="col" class="px-6 py-3 text-center">Score "Cringe"</th>
                            <th scope="col" class="px-6 py-3">Action</th>
                        </tr>
                    </thead>
                    <tbody id="keyword-table-body">
                        <!-- Rows populated by JS -->
                    </tbody>
                </table>
            </div>
            <div class="p-4 bg-stone-50 border-t border-stone-100 text-center text-xs text-stone-400">
                Donn√©es g√©n√©r√©es par l'analyseur s√©mantique "Bim/Lol/Oufti" v2.0
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="mb-2">¬© 2024 Belgian Zeitgeist Analytics.</p>
            <p class="text-xs">
                Inspir√© par : George-Louis Bouchez, Pulp Fiction, et une fraude sociale pr√©sum√©e. <br>
                Ce site n'utilise pas de cookies, seulement des Bicky Burgers virtuels.
            </p>
        </div>
    </footer>

    <script>
        // --- Data Definitions (Based on Source Report URL) ---
        const reportData = [
            { id: 1, name: "Georges-Louis Bouchez", category: "Politique", dechire: 40, cringe: 95, desc: "Omnipr√©sence radicale." },
            { id: 2, name: "Paul Magnette", category: "Politique", dechire: 50, cringe: 60, desc: "Socialisme de Charleroi." },
            { id: 3, name: "Raoul Hedebouw", category: "Politique", dechire: 85, cringe: 20, desc: "Bim ! En pleine face." },
            { id: 4, name: "Bicky Burger", category: "Food", dechire: 99, cringe: 10, desc: "Patrimoine national friand." },
            { id: 5, name: "Big Kahuna Burger", category: "Food", dechire: 90, cringe: 5, desc: "That is a tasty burger (Tarantino)." },
            { id: 6, name: "RTBF Info", category: "Media", dechire: 60, cringe: 40, desc: "Service public ou fraude ?" },
            { id: 7, name: "RTL-TVI", category: "Media", dechire: 40, cringe: 70, desc: "La cha√Æne du peuple." },
            { id: 8, name: "Deborsu", category: "Media", dechire: 55, cringe: 80, desc: "L'accent namurois iconique." },
            { id: 9, name: "Fonzie", category: "Pop Culture", dechire: 100, cringe: 0, desc: "Be Cool. Reference absolue." },
            { id: 10, name: "Akira", category: "Pop Culture", dechire: 95, cringe: 5, desc: "Neo-Tokyo vs Neo-Charleroi." },
            { id: 11, name: "Pulp Fiction", category: "Pop Culture", dechire: 98, cringe: 2, desc: "Ezekiel 25:17." },
            { id: 12, name: "Fraude Sociale", category: "Scandale", dechire: 10, cringe: 90, desc: "Pas cool pour la s√©cu." },
            { id: 13, name: "Particratie", category: "Politique", dechire: 20, cringe: 85, desc: "Le syst√®me bloque tout." },
            { id: 14, name: "Oufti", category: "Langage", dechire: 80, cringe: 20, desc: "Expression li√©geoise valid√©e." },
            { id: 15, name: "Gemini AI", category: "Tech", dechire: 75, cringe: 30, desc: "L'intelligence qui analyse tout √ßa." }
        ];

        // --- Chart 1: Scatter Plot (The Matrix) ---
        const ctxScatter = document.getElementById('scatterChart').getContext('2d');
        let scatterChart;

        function initScatterChart(data) {
            scatterChart = new Chart(ctxScatter, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Cartographie du Zeitgeist',
                        data: data.map(item => ({
                            x: item.dechire - item.cringe, // Net Awesome Score
                            y: item.cringe, // Cringe Factor
                            item: item // Store full object
                        })),
                        backgroundColor: data.map(item => {
                            if(item.category === 'Politique') return 'rgba(220, 38, 38, 0.7)'; // Red
                            if(item.category === 'Food') return 'rgba(217, 119, 6, 0.7)'; // Amber
                            if(item.category === 'Media') return 'rgba(37, 99, 235, 0.7)'; // Blue
                            return 'rgba(75, 85, 99, 0.7)'; // Grey
                        }),
                        pointRadius: 8,
                        pointHoverRadius: 12
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const item = context.raw.item;
                                    return `${item.name}: ${item.desc}`;
                                }
                            }
                        },
                        legend: { display: false }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: '‚Üê Cringe ..... Score Net ..... D√©chire ‚Üí' },
                            grid: { color: '#e5e7eb' }
                        },
                        y: {
                            title: { display: true, text: 'Facteur Cringe (0-100)' },
                            grid: { color: '#e5e7eb' }
                        }
                    },
                    onClick: (e, activeEls) => {
                        if (activeEls.length > 0) {
                            const dataIndex = activeEls[0].index;
                            const item = scatterChart.data.datasets[0].data[dataIndex].item;
                            showInsight(item);
                        }
                    }
                }
            });
        }

        function showInsight(item) {
            const box = document.getElementById('chart-insight');
            box.classList.remove('hidden');
            box.innerHTML = `<strong>Analyse IA pour "${item.name}":</strong> <br> Cat√©gorie: ${item.category}. <br> Verdict: ${item.dechire > item.cringe ? "√áa d√©chire grave." : "C'est un peu cringe."} <br> <em>"${item.desc}"</em>`;
        }

        // --- Chart 2: Donut Chart (Distribution) ---
        const ctxDonut = document.getElementById('donutChart').getContext('2d');
        let donutChart;

        function initDonutChart() {
            // Count categories
            const counts = {};
            reportData.forEach(d => { counts[d.category] = (counts[d.category] || 0) + 1; });
            
            donutChart = new Chart(ctxDonut, {
                type: 'doughnut',
                data: {
                    labels: Object.keys(counts),
                    datasets: [{
                        data: Object.values(counts),
                        backgroundColor: [
                            '#dc2626', // Politique
                            '#d97706', // Food
                            '#2563eb', // Media
                            '#9333ea', // Tech
                            '#4b5563', // Pop
                            '#10b981'  // Langage/Other
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right' }
                    }
                }
            });
        }

        // --- Burger Builder Logic ---
        const burgerStack = document.getElementById('burger-stack');
        let burgerHeight = 0;

        function addLayer(name, colorClass) {
            if (burgerHeight > 6) {
                alert("Oufti ! Le burger est trop grand, il va s'effondrer !");
                return;
            }
            const div = document.createElement('div');
            // Tailwind classes don't parse dynamically added text strings well without safelist, 
            // so we use inline styles for width/height assurance but classes for color
            div.className = `w-full h-10 shadow-sm flex items-center justify-center text-xs font-bold border-b-2 border-black/10 ${colorClass}`;
            div.style.borderRadius = "4px";
            div.innerHTML = name;
            
            // Animation class
            div.style.opacity = '0';
            div.style.transform = 'translateY(-20px)';
            
            burgerStack.appendChild(div);
            
            // Trigger animation
            setTimeout(() => {
                div.style.transition = 'all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                div.style.opacity = '1';
                div.style.transform = 'translateY(0)';
            }, 10);

            burgerHeight++;
            checkBurger();
        }

        function checkBurger() {
            const verdict = document.getElementById('burger-verdict');
            if (burgerHeight > 3) {
                verdict.style.opacity = '1';
                if(Math.random() > 0.5) {
                    verdict.innerText = "\"This is a TASTY burger!\" - Jules Winnfield";
                    verdict.className = "mt-6 text-center font-bold text-xl text-green-600";
                } else {
                     verdict.innerText = "Attention √† la fraude sociale !";
                     verdict.className = "mt-6 text-center font-bold text-xl text-red-600";
                }
            }
        }

        function resetBurger() {
            // Keep the bottom bun
            while (burgerStack.children.length > 1) {
                burgerStack.removeChild(burgerStack.lastChild);
            }
            burgerHeight = 0;
            document.getElementById('burger-verdict').style.opacity = '0';
        }

        // --- Table Logic ---
        const tableBody = document.getElementById('keyword-table-body');
        const searchInput = document.getElementById('table-search');

        function renderTable(data) {
            tableBody.innerHTML = '';
            data.forEach(item => {
                const row = document.createElement('tr');
                row.className = "bg-white border-b hover:bg-stone-50 transition-colors";
                
                // Logic for badge color
                let badgeColor = "bg-gray-100 text-gray-800";
                if(item.dechire > 80) badgeColor = "bg-green-100 text-green-800";
                else if(item.cringe > 80) badgeColor = "bg-red-100 text-red-800";

                row.innerHTML = `
                    <td class="px-6 py-4 font-medium text-stone-900 whitespace-nowrap">${item.name}</td>
                    <td class="px-6 py-4">${item.category}</td>
                    <td class="px-6 py-4 text-center text-green-600 font-bold">${item.dechire}</td>
                    <td class="px-6 py-4 text-center text-red-600 font-bold">${item.cringe}</td>
                    <td class="px-6 py-4">
                        <button onclick="alert('Analyse Approfondie: ${item.desc}')" class="font-medium text-amber-600 hover:underline">Analyser</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // --- Filters & Event Listeners ---
        document.getElementById('scatter-filter').addEventListener('change', (e) => {
            const val = e.target.value;
            let filteredData = reportData;
            if (val === 'pol') filteredData = reportData.filter(d => d.category === 'Politique');
            if (val === 'pop') filteredData = reportData.filter(d => d.category === 'Pop Culture');
            if (val === 'tech') filteredData = reportData.filter(d => d.category === 'Tech' || d.category === 'Media');
            
            // Update Scatter Chart
            scatterChart.data.datasets[0].data = filteredData.map(item => ({
                x: item.dechire - item.cringe,
                y: item.cringe,
                item: item
            }));
            scatterChart.update();
        });

        document.getElementById('randomize-data').addEventListener('click', () => {
            // Randomize charts for "Live" effect
            const newData = donutChart.data.datasets[0].data.map(v => Math.floor(Math.random() * 10) + 1);
            donutChart.data.datasets[0].data = newData;
            donutChart.update();
        });

        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = reportData.filter(d => d.name.toLowerCase().includes(term) || d.category.toLowerCase().includes(term));
            renderTable(filtered);
        });

        document.getElementById('mode-toggle').addEventListener('click', function() {
            const btn = this;
            if(btn.innerText.includes("Analyse")) {
                btn.innerText = "Mode: Baraki";
                document.body.style.fontFamily = "'Courier New', monospace";
                alert("Mode Baraki activ√© ! Attention aux fautes d'orthographe (simul√©es).");
            } else {
                btn.innerText = "Mode: Analyse";
                document.body.style.fontFamily = "'Inter', sans-serif";
            }
        });

        // --- Initialization ---
        window.addEventListener('DOMContentLoaded', () => {
            initScatterChart(reportData);
            initDonutChart();
            renderTable(reportData);
        });

    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>PARCOURS â€” Devenir AnimateurÂ·rice CitoyenÂ·ne NumÃ©rique</title>
<meta name="description" content="Parcours gamifiÃ© pour devenir animateurÂ·rice citoyenÂ·ne numÃ©rique. 6 niveaux, 5 branches, 60+ missions. Projet ouaisfieu.">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0e17;--bg2:#111827;--bg3:#1e293b;--bg4:#334155;--tx:#e2e8f0;--tx2:#94a3b8;--tx3:#64748b;--mint:#34d399;--lila:#a78bfa;--ora:#fb923c;--pink:#f472b6;--blu:#60a5fa;--yel:#fbbf24;--red:#f87171;--r:10px}
html{font-size:15px;scroll-behavior:smooth}
body{background:var(--bg);color:var(--tx);font-family:'DM Sans',system-ui,sans-serif;min-height:100vh;overflow-x:hidden}
a{color:var(--lila);text-decoration:none}a:hover{text-decoration:underline}
button{font-family:inherit;cursor:pointer}
.mono{font-family:'Space Mono',monospace}

/* GRAIN OVERLAY */
body::after{content:'';position:fixed;inset:0;pointer-events:none;z-index:999;
  background:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  opacity:.4}

/* HEADER */
.hdr{background:linear-gradient(180deg,#111827 0%,#0a0e17 100%);border-bottom:1px solid var(--bg4);padding:20px;position:sticky;top:0;z-index:50}
.hdr-in{max-width:1100px;margin:0 auto}
.hdr-top{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;margin-bottom:16px}
.logo{display:flex;align-items:center;gap:12px}
.logo-icon{font-size:32px;filter:drop-shadow(0 0 12px #34d39966)}
.logo h1{font-size:17px;font-weight:800;letter-spacing:-0.5px}
.logo h1 span{color:var(--mint)}
.logo-sub{font-size:10px;color:var(--tx3);letter-spacing:2px;text-transform:uppercase;font-family:'Space Mono',monospace}
.rank-badge{display:flex;align-items:center;gap:10px;background:var(--bg3);border:1px solid var(--bg4);border-radius:10px;padding:10px 16px}
.rank-icon{font-size:28px;filter:drop-shadow(0 0 8px #a78bfa66)}
.rank-name{font-size:13px;font-weight:700;color:var(--lila)}
.rank-title{font-size:10px;color:var(--tx3)}

/* XP BAR */
.xp-wrap{display:flex;align-items:center;gap:12px}
.xp-bar{flex:1;height:10px;background:var(--bg);border-radius:99px;overflow:hidden;border:1px solid var(--bg4)}
.xp-fill{height:100%;border-radius:99px;transition:width .6s cubic-bezier(.4,0,.2,1);background:linear-gradient(90deg,var(--mint),var(--lila))}
.xp-text{font-size:11px;color:var(--tx2);font-family:'Space Mono',monospace;white-space:nowrap}

/* TABS */
.tabs{display:flex;gap:2px;flex-wrap:wrap;margin-bottom:0}
.tab{padding:10px 18px;border-radius:8px 8px 0 0;border:none;font-size:12px;font-weight:700;background:transparent;color:var(--tx3);transition:all .15s;letter-spacing:0.5px}
.tab:hover{color:var(--tx2)}.tab.on{background:var(--bg2);color:var(--mint);border:1px solid var(--bg4);border-bottom:1px solid var(--bg2)}

/* VIEWS */
.view{display:none;background:var(--bg2);border:1px solid var(--bg4);border-radius:0 10px 10px 10px;max-width:1100px;margin:0 auto 40px;padding:24px;min-height:400px}
.view.on{display:block}

/* SKILL TREE */
.branch{margin-bottom:32px}
.branch-head{display:flex;align-items:center;gap:12px;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--bg4)}
.branch-icon{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
.branch-nm{font-size:16px;font-weight:800}.branch-desc{font-size:12px;color:var(--tx2)}
.branch-prog{margin-left:auto;font-size:11px;color:var(--tx3);font-family:'Space Mono',monospace;flex-shrink:0}

/* MISSION CARDS */
.missions{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px}
.mission{background:var(--bg);border:1px solid var(--bg4);border-radius:var(--r);padding:14px;transition:all .2s;position:relative;overflow:hidden}
.mission:hover{border-color:var(--tx3)}
.mission.done{border-color:#34d39944;background:#34d39908}
.mission.done::after{content:'âœ“';position:absolute;top:10px;right:12px;color:var(--mint);font-size:18px;font-weight:800}
.mission.locked{opacity:.35;pointer-events:none}
.mission.locked::before{content:'ğŸ”’';position:absolute;top:10px;right:12px;font-size:14px}
.m-level{font-size:9px;font-family:'Space Mono',monospace;color:var(--tx3);text-transform:uppercase;letter-spacing:2px;margin-bottom:6px}
.m-title{font-size:13px;font-weight:700;margin-bottom:6px;line-height:1.4}
.m-desc{font-size:11px;color:var(--tx2);line-height:1.6;margin-bottom:10px}
.m-meta{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.m-xp{font-size:10px;font-family:'Space Mono',monospace;color:var(--yel);font-weight:700}
.m-tag{font-size:9px;padding:2px 7px;border-radius:4px;font-weight:600}
.m-btn{padding:6px 14px;border-radius:6px;border:1px solid var(--bg4);background:transparent;color:var(--tx2);font-size:11px;font-weight:600;transition:all .15s;margin-left:auto}
.m-btn:hover{border-color:var(--mint);color:var(--mint)}
.m-btn.undo{border-color:var(--mint);color:var(--mint);background:#34d39910}

/* ROADMAP */
.roadmap{display:flex;flex-direction:column;gap:0;position:relative}
.rm-level{display:flex;gap:20px;align-items:flex-start;position:relative;padding:24px 0;border-left:3px solid var(--bg4);margin-left:24px}
.rm-level.active{border-left-color:var(--mint)}
.rm-level.passed{border-left-color:var(--mint)}
.rm-level.future{border-left-color:var(--bg4);opacity:.5}
.rm-dot{position:absolute;left:-14px;top:24px;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:800;border:2px solid var(--bg4);background:var(--bg)}
.rm-level.passed .rm-dot{border-color:var(--mint);background:var(--mint);color:var(--bg)}
.rm-level.active .rm-dot{border-color:var(--lila);background:var(--lila);color:var(--bg);box-shadow:0 0 20px #a78bfa66;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 12px #a78bfa44}50%{box-shadow:0 0 24px #a78bfa88}}
.rm-body{padding-left:20px;flex:1}
.rm-rank{font-size:10px;color:var(--tx3);font-family:'Space Mono',monospace;text-transform:uppercase;letter-spacing:2px}
.rm-name{font-size:18px;font-weight:800;margin:4px 0}
.rm-desc{font-size:12px;color:var(--tx2);line-height:1.6;margin-bottom:8px}
.rm-skills{display:flex;gap:6px;flex-wrap:wrap}
.rm-skill{font-size:10px;padding:3px 8px;border-radius:4px;font-weight:600}

/* PROFILE */
.profile-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.stat-card{background:var(--bg);border:1px solid var(--bg4);border-radius:var(--r);padding:20px;text-align:center}
.stat-val{font-size:32px;font-weight:800;font-family:'Space Mono',monospace}
.stat-label{font-size:11px;color:var(--tx3);text-transform:uppercase;letter-spacing:1px;margin-top:4px}
.reset-btn{margin-top:24px;padding:10px 20px;border-radius:8px;background:transparent;border:1px solid var(--red);color:var(--red);font-size:12px;font-weight:600}
.reset-btn:hover{background:#f8717110}

/* TOOLTIPS */
.tip{background:var(--bg3);border:1px solid var(--bg4);border-radius:8px;padding:14px;margin-bottom:16px;font-size:12px;color:var(--tx2);line-height:1.7;display:flex;align-items:flex-start;gap:10px}
.tip-i{font-size:18px;flex-shrink:0}

/* FOOTER */
.ftr{text-align:center;padding:20px;font-size:10px;color:var(--tx3);font-family:'Space Mono',monospace}

@media(max-width:700px){
  .missions{grid-template-columns:1fr}.profile-grid{grid-template-columns:1fr}
  .tab{padding:8px 12px;font-size:11px}.hdr-top{flex-direction:column;align-items:flex-start}
  .rm-level{margin-left:16px}
}
</style>
</head>
<body>

<div class="hdr"><div class="hdr-in">
  <div class="hdr-top">
    <div class="logo">
      <span class="logo-icon">âš”ï¸</span>
      <div><h1><span>PARCOURS</span> Â· AnimateurÂ·rice CitoyenÂ·ne</h1><div class="logo-sub">ouaisfieu Â· intelligence citoyenne belge</div></div>
    </div>
    <div class="rank-badge" id="rank-badge">
      <span class="rank-icon" id="rank-icon">ğŸŒ±</span>
      <div><div class="rank-name" id="rank-name">CurieuxÂ·se</div><div class="rank-title" id="rank-title">Niveau 0</div></div>
    </div>
  </div>
  <div class="xp-wrap">
    <span class="xp-text" id="xp-text">0 / 100 XP</span>
    <div class="xp-bar"><div class="xp-fill" id="xp-fill" style="width:0%"></div></div>
    <span class="xp-text" id="xp-level">Niv. 0</span>
  </div>
  <div class="tabs" style="margin-top:16px" id="tabs">
    <button class="tab on" data-t="tree">ğŸŒ³ Arbre de compÃ©tences</button>
    <button class="tab" data-t="road">ğŸ—ºï¸ Feuille de route</button>
    <button class="tab" data-t="profil">ğŸ“Š Mon profil</button>
  </div>
</div></div>

<div class="view on" id="v-tree"></div>
<div class="view" id="v-road"></div>
<div class="view" id="v-profil"></div>

<div class="ftr">ouaisfieu Â· fork Â· hack Â· spread Â· CC-BY-SA 4.0 Â· ğŸ‡§ğŸ‡ª</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DATA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const RANKS = [
  {lv:0,n:'CurieuxÂ·se',i:'ğŸŒ±',c:'#94a3b8',xp:0,d:'Vous dÃ©couvrez le monde de l\'intelligence citoyenne. Tout commence par la curiositÃ©.'},
  {lv:1,n:'Ã‰veillÃ©Â·e',i:'ğŸ‘ï¸',c:'#60a5fa',xp:100,d:'Vous commencez Ã  voir ce qui se cache derriÃ¨re le discours officiel. Vous posez des questions.'},
  {lv:2,n:'VeilleurÂ·se',i:'ğŸ”',c:'#a78bfa',xp:300,d:'Vous savez chercher, vÃ©rifier, croiser les sources. Vous produisez de l\'intelligence citoyenne.'},
  {lv:3,n:'AnimateurÂ·rice',i:'ğŸ¤',c:'#34d399',xp:600,d:'Vous facilitez des espaces de dÃ©bat. Vous transformez l\'information en action collective.'},
  {lv:4,n:'ForgeronÂ·ne',i:'ğŸ”¨',c:'#fb923c',xp:1000,d:'Vous crÃ©ez des outils, des kits, des formations. Vous fabriquez l\'infrastructure citoyenne.'},
  {lv:5,n:'MaÃ®treÂ·sse de Forge',i:'ğŸ”¥',c:'#f87171',xp:1500,d:'Vous formez des formateurs. Vous essaimez. Le mouvement ne dÃ©pend plus de vous.'}
];

const BRANCHES = [
  {id:'parole',n:'Parole & Animation',i:'ğŸ—£ï¸',c:'#34d399',d:'MaÃ®triser les 15 formats d\'ateliers-dÃ©bats citoyens'},
  {id:'veille',n:'Veille & OSINT',i:'ğŸ”',c:'#a78bfa',d:'Chercher, vÃ©rifier, analyser l\'information en sources ouvertes'},
  {id:'instit',n:'Institutions & Droit',i:'ğŸ›ï¸',c:'#60a5fa',d:'Comprendre le systÃ¨me belge pour agir sur les bons leviers'},
  {id:'num',n:'NumÃ©rique & Outils',i:'ğŸ”§',c:'#fb923c',d:'MaÃ®triser les outils libres pour produire et diffuser'},
  {id:'terrain',n:'Terrain & RÃ©seau',i:'ğŸŒ',c:'#fbbf24',d:'Passer de l\'Ã©cran au rÃ©el, construire un rÃ©seau local'}
];

const M = [
  // â•â•â•â•â•â• PAROLE â•â•â•â•â•â•
  {id:'p0a',b:'parole',lv:0,t:'Assister Ã  un cafÃ©-dÃ©bat',d:'Participez Ã  un cafÃ©-dÃ©bat, un cercle de parole ou un dÃ©bat public. N\'importe lequel. Observez comment c\'est animÃ©.',xp:15,tags:['â˜• CafÃ©-dÃ©bat','Observation']},
  {id:'p0b',b:'parole',lv:0,t:'Lire la mÃ©thode VoirÂ·PenserÂ·Agir',d:'Comprenez la boussole en 3 phases. Chaque atelier suit ce fil rouge : observer sans juger, comprendre et dÃ©battre, dÃ©cider et agir.',xp:10,tags:['ğŸ§­ VPA','ThÃ©orie']},
  {id:'p1a',b:'parole',lv:1,t:'Animer un cafÃ©-dÃ©bat pour 5 personnes',d:'Chez vous ou dans un cafÃ©. Une fiche-sujet, 3 questions, du cafÃ©. Suivez le guide pas-Ã -pas de La Forge.',xp:30,tags:['â˜• Premier atelier','Action']},
  {id:'p1b',b:'parole',lv:1,t:'Tester le dÃ©bat mouvant',d:'5 affirmations clivantes, un couloir. ZÃ©ro matÃ©riel. Demandez aux gens de se dÃ©placer physiquement selon leur opinion.',xp:25,tags:['ğŸƒ Corps','Fun']},
  {id:'p1c',b:'parole',lv:1,t:'Pratiquer le photo-langage',d:'20 images imprimÃ©es, une question ouverte. Chacun choisit en silence et explique. Le format le plus puissant pour ceux qui n\'aiment pas "dÃ©battre".',xp:20,tags:['ğŸ–¼ï¸ Visuel','Inclusion']},
  {id:'p2a',b:'parole',lv:2,t:'Organiser un cinÃ©-dÃ©bat',d:'Choisissez un documentaire marquant. Projetez-le. 2 min de silence aprÃ¨s. Tour d\'impressions puis dÃ©bat guidÃ© : fait / opinion / action.',xp:35,tags:['ğŸ¬ CinÃ©-dÃ©bat','Ã‰motion']},
  {id:'p2b',b:'parole',lv:2,t:'Animer un World CafÃ©',d:'3 tables, 3 questions progressives (Que constatez-vous? â†’ Pourquoi? â†’ Que faire?), nappes en papier, rotation. 12+ personnes.',xp:40,tags:['ğŸŒ World CafÃ©','Collectif']},
  {id:'p2c',b:'parole',lv:2,t:'Organiser une lecture collective',d:'Un texte de 1-3 pages. Lecture silencieuse, surlignage, tour de parole sur les passages marquants.',xp:25,tags:['ğŸ“– Lecture','Calme']},
  {id:'p3a',b:'parole',lv:3,t:'Monter un tribunal citoyen',d:'ProcÃ¨s fictif d\'une politique ou d\'un systÃ¨me. Procureur, dÃ©fense, tÃ©moins, jury-public. L\'exercice le plus formateur : dÃ©fendre ce qu\'on combattrait.',xp:50,tags:['âš–ï¸ Tribunal','ThÃ©Ã¢tral']},
  {id:'p3b',b:'parole',lv:3,t:'Faciliter un thÃ©Ã¢tre-forum',d:'MÃ©thode Augusto Boal. Une scÃ¨ne d\'injustice qui finit mal. Le public crie STOP et remplace un personnage pour tenter de changer l\'issue.',xp:55,tags:['ğŸ­ Boal','AvancÃ©']},
  {id:'p3c',b:'parole',lv:3,t:'CrÃ©er une fresque citoyenne',d:'30-40 cartes-concepts (CPAS, Constitution, Lobbying...). Les participants les relient par des flÃ¨ches causeâ†’consÃ©quence. Le moment eureka.',xp:45,tags:['ğŸ§© Fresque','SystÃ©mique']},
  {id:'p4a',b:'parole',lv:4,t:'Produire un kit d\'atelier complet forkable',d:'README + vidÃ©o d\'accroche + document de rÃ©fÃ©rence + questions Ã  3 niveaux (Bloom) + template Framapad. Le tout sur GitHub, licence CC-BY-SA.',xp:60,tags:['ğŸ“¦ Kit','Production']},
  {id:'p4b',b:'parole',lv:4,t:'Concevoir un format hybride asynchrone',d:'Phase VOIR en ligne (vidÃ©o + doc), PENSER sur Pol.is ou forum, AGIR en co-rÃ©daction Framapad. Pont numÃ©rique entre en ligne et prÃ©sentiel.',xp:55,tags:['ğŸ”— Hybride','Innovation']},
  {id:'p5a',b:'parole',lv:5,t:'Former 3 animateurÂ·rices',d:'Accompagnez 3 personnes dans leur premier atelier. Soyez en retrait. Votre rÃ´le : observer, rassurer, dÃ©briefer aprÃ¨s.',xp:80,tags:['ğŸ”¥ Transmission','Essaimage']},
  {id:'p5b',b:'parole',lv:5,t:'Produire 10 kits d\'ateliers en batch',d:'Cycle de production hebdomadaire : 2 kits/semaine pendant 5 semaines. 100 ateliers/an c\'est le rythme industriel ouaisfieu.',xp:100,tags:['âš¡ Batch','Scale']},

  // â•â•â•â•â•â• VEILLE â•â•â•â•â•â•
  {id:'v0a',b:'veille',lv:0,t:'VÃ©rifier une info virale',d:'Prenez une info qui circule sur les rÃ©seaux. Cherchez la source primaire. Qui dit quoi, quand, avec quelles preuves? Utilisez la recherche inversÃ©e d\'images.',xp:15,tags:['ğŸ” Fact-check','Bases']},
  {id:'v0b',b:'veille',lv:0,t:'Comprendre la pyramide DICS',d:'DonnÃ©es â†’ Information â†’ Connaissance â†’ Sagesse. Transformer des chiffres bruts en action Ã©clairÃ©e. C\'est le cÅ“ur de l\'intelligence citoyenne.',xp:10,tags:['ğŸ“Š DICS','ThÃ©orie']},
  {id:'v1a',b:'veille',lv:1,t:'CrÃ©er un labo OSINT personnel',d:'Installer un navigateur dÃ©diÃ© (Firefox profil sÃ©parÃ©). Bookmarker 10 sources de rÃ©fÃ©rence belges. CrÃ©er un compte Mastodon pour la veille.',xp:25,tags:['ğŸ§ª Labo','Config']},
  {id:'v1b',b:'veille',lv:1,t:'Cartographier un rÃ©seau d\'influence local',d:'Prenez votre commune. Qui est le bourgmestre? Les Ã©chevins? Quelles intercommunales? Quels liens avec quels partis? Dessinez la carte.',xp:30,tags:['ğŸ—ºï¸ RÃ©seau','Local']},
  {id:'v2a',b:'veille',lv:2,t:'Mener une enquÃªte OSINT complÃ¨te',d:'Cycle complet : orientation â†’ collecte â†’ traitement â†’ analyse â†’ diffusion. Sujet libre : un projet d\'urbanisme, une entreprise publique, un vote au parlement.',xp:45,tags:['ğŸ¯ EnquÃªte','OSINT']},
  {id:'v2b',b:'veille',lv:2,t:'Analyser un documentaire avec la grille ouaisfieu',d:'Regardez "Sans boulot : tous fraudeurs?" ou Ã©quivalent. Identifiez : qui parle, qui ne parle pas, quelles sources manquent, quel cadrage idÃ©ologique.',xp:35,tags:['ğŸ“º MÃ©dia','Critique']},
  {id:'v3a',b:'veille',lv:3,t:'Produire une analyse sourcÃ©e de 1200 mots',d:'Un sujet d\'intÃ©rÃªt public belge. Minimum 5 sources primaires. Structure : faits, contexte, enjeux, perspectives multiples. Publiable.',xp:50,tags:['âœï¸ Analyse','Publication']},
  {id:'v3b',b:'veille',lv:3,t:'Animer un atelier OSINT pour dÃ©butants',d:'Apprenez Ã  5 personnes Ã  vÃ©rifier une image, trouver un document officiel, consulter le Moniteur belge. Format : 45 min, non anxiogÃ¨ne.',xp:45,tags:['ğŸ“ Formation','Accessible']},
  {id:'v4a',b:'veille',lv:4,t:'CrÃ©er un observatoire citoyen thÃ©matique',d:'Tableau de bord de veille sur un sujet : budget communal, qualitÃ© de l\'air, dÃ©cisions du CPAS. DonnÃ©es publiques + visualisation.',xp:65,tags:['ğŸ“¡ Observatoire','Data']},
  {id:'v5a',b:'veille',lv:5,t:'Constituer et animer un rÃ©seau de veilleurs',d:'5+ personnes rÃ©parties sur plusieurs communes. Chacun surveille un domaine. SynthÃ¨se collective mensuelle.',xp:90,tags:['ğŸ•¸ï¸ RÃ©seau','Collectif']},

  // â•â•â•â•â•â• INSTITUTIONS â•â•â•â•â•â•
  {id:'i0a',b:'instit',lv:0,t:'Comprendre qui fait quoi en Belgique',d:'FÃ©dÃ©ral, rÃ©gions, communautÃ©s, provinces, communes. Qui dÃ©cide de quoi? Dessinez l\'organigramme simplifiÃ©. Ce n\'est pas trivial.',xp:15,tags:['ğŸ›ï¸ Structure','Bases']},
  {id:'i0b',b:'instit',lv:0,t:'Lire les 5 premiers articles de la Constitution',d:'Art. 1: La Belgique est un Ã‰tat fÃ©dÃ©ral. Art. 33: Tous les pouvoirs Ã©manent de la Nation. Art. 42: Les membres du Parlement reprÃ©sentent la Nation, pas seulement leur parti.',xp:10,tags:['ğŸ“œ Constitution','Lecture']},
  {id:'i1a',b:'instit',lv:1,t:'Comprendre la particratie belge',d:'Pourquoi les prÃ©sidents de partis ont-ils plus de pouvoir que les parlementaires? Qu\'est-ce que la discipline de vote? Lisez les dossiers ouaisfieu.',xp:25,tags:['ğŸ‘‘ Particratie','Analyse']},
  {id:'i1b',b:'instit',lv:1,t:'Identifier votre CPAS et son fonctionnement',d:'Le CPAS de votre commune : prÃ©sident, conseil de l\'action sociale, droits, procÃ©dures. C\'est le filet de sÃ©curitÃ©. Beaucoup ignorent qu\'il existe.',xp:20,tags:['ğŸ˜ï¸ CPAS','Local']},
  {id:'i2a',b:'instit',lv:2,t:'Analyser le budget Arizona',d:'9,2 milliards d\'ajustement. 60% d\'Ã©conomies. Impact sur la sÃ©cu, le chÃ´mage, les malades longue durÃ©e. Utilisez les donnÃ©es du Bureau du Plan.',xp:40,tags:['ğŸ’° Budget','Arizona']},
  {id:'i2b',b:'instit',lv:2,t:'Comprendre les leviers juridiques citoyens',d:'Recours au Conseil d\'Ã‰tat, Cour constitutionnelle, saturation judiciaire, pression communale via CPAS. La manifestation ne suffit pas en particratie.',xp:35,tags:['âš–ï¸ Droit','Leviers']},
  {id:'i3a',b:'instit',lv:3,t:'RÃ©diger un courrier structurÃ© Ã  un Ã©lu',d:'Interpellez un parlementaire sur un sujet prÃ©cis. Faits, sources, question explicite, demande d\'action. Publiez la rÃ©ponse (ou l\'absence de rÃ©ponse).',xp:40,tags:['âœ‰ï¸ Interpellation','Action']},
  {id:'i3b',b:'instit',lv:3,t:'DÃ©crypter un texte de loi en langage citoyen',d:'Prenez un projet de loi en cours. Traduisez-le en 1 page comprÃ©hensible par n\'importe qui. Identifiez qui gagne, qui perd.',xp:45,tags:['ğŸ“‹ Vulgarisation','Droit']},
  {id:'i4a',b:'instit',lv:4,t:'Produire un dossier d\'analyse institutionnelle',d:'Analyse complÃ¨te d\'un mÃ©canisme : intercommunales, nominations politiques, financement des partis. Minimum 2000 mots, 10+ sources primaires.',xp:65,tags:['ğŸ“ Dossier','Recherche']},
  {id:'i5a',b:'instit',lv:5,t:'Organiser un tribunal citoyen sur le budget fÃ©dÃ©ral',d:'Mobiliser 20+ personnes. Dossier accusation + dÃ©fense. TÃ©moins experts. Verdict argumentÃ©. PubliÃ© et diffusÃ©.',xp:90,tags:['âš–ï¸ Tribunal','Impact']},

  // â•â•â•â•â•â• NUMÃ‰RIQUE â•â•â•â•â•â•
  {id:'n0a',b:'num',lv:0,t:'CrÃ©er un compte Framapad',d:'Ouvrez un Framapad, partagez le lien, Ã©crivez Ã  plusieurs. C\'est l\'outil de base de l\'Ã©criture collective. Gratuit, sans inscription.',xp:10,tags:['ğŸ“ Framapad','Outil']},
  {id:'n0b',b:'num',lv:0,t:'DÃ©couvrir les alternatives libres',d:'Framapad (Google Docs), PeerTube (YouTube), Mastodon (Twitter), Mobilizon (Facebook Events), CryptPad, Signal. Testez-en 3.',xp:15,tags:['ğŸ”“ Libre','DÃ©couverte']},
  {id:'n1a',b:'num',lv:1,t:'CrÃ©er une page web simple',d:'Un fichier HTML, un titre, du texte, un lien. Ouvrez-le dans un navigateur. FÃ©licitations, vous Ãªtes webmaster.',xp:25,tags:['ğŸŒ HTML','CrÃ©ation']},
  {id:'n1b',b:'num',lv:1,t:'Publier un contenu sur GitHub Pages',d:'CrÃ©ez un dÃ©pÃ´t GitHub, activez Pages, publiez une page. HÃ©bergement gratuit, permanent, sans pub.',xp:30,tags:['ğŸ“¦ GitHub','Publication']},
  {id:'n2a',b:'num',lv:2,t:'Produire une vidÃ©o d\'accroche de 3 min',d:'OBS Studio pour l\'enregistrement. Kdenlive pour le montage. Whisper AI pour les sous-titres. Format ouaisfieu : question provocante + fait surprenant.',xp:40,tags:['ğŸ¬ VidÃ©o','Production']},
  {id:'n2b',b:'num',lv:2,t:'GÃ©rer un Obsidian pour votre veille',d:'Base de connaissances en markdown. Notes interconnectÃ©es. Tags. Recherche. Votre cerveau externe d\'intelligence citoyenne.',xp:35,tags:['ğŸ§  Obsidian','PKM']},
  {id:'n3a',b:'num',lv:3,t:'Automatiser la production de contenus',d:'Templates rÃ©utilisables + batch processing. RÃ©duisez 20h de travail Ã  9h. Le principe "One Anchor â†’ Many Outputs".',xp:50,tags:['âš¡ Automation','ProductivitÃ©']},
  {id:'n3b',b:'num',lv:3,t:'CrÃ©er un dataset structurÃ© en JSON',d:'Organisez votre veille en donnÃ©es interopÃ©rables. Fiches ateliers, fiches lieux, fiches acteurs. RÃ©utilisable par n\'importe qui.',xp:45,tags:['ğŸ“Š Data','JSON']},
  {id:'n4a',b:'num',lv:4,t:'DÃ©ployer un site complet avec gÃ©nÃ©rateur statique',d:'Jekyll, Hugo ou Grav. ThÃ¨me personnalisÃ©. SEO/GEO optimisÃ©. HÃ©bergÃ© sur GitHub Pages. Budget : 0â‚¬.',xp:60,tags:['ğŸ—ï¸ SSG','Architecture']},
  {id:'n4b',b:'num',lv:4,t:'CrÃ©er un contenu interactif H5P',d:'Transformez une vidÃ©o en quiz interactif. Questions Ã  des timestamps prÃ©cis. HÃ©bergeable gratuitement via Lumi Education.',xp:50,tags:['ğŸ® H5P','Interactif']},
  {id:'n5a',b:'num',lv:5,t:'Publier un kit forkable complet avec documentation',d:'DÃ©pÃ´t GitHub : README, licence, guide d\'installation, guide de contribution. N\'importe qui peut reprendre et adapter.',xp:80,tags:['ğŸ´ Fork','Open Source']},

  // â•â•â•â•â•â• TERRAIN â•â•â•â•â•â•
  {id:'t0a',b:'terrain',lv:0,t:'RepÃ©rer 3 lieux gratuits prÃ¨s de chez vous',d:'BibliothÃ¨que, maison de quartier, EPN, centre culturel, Espace Wallonie. Passez la porte. Demandez ce qui s\'y passe.',xp:15,tags:['ğŸ“ Lieux','RepÃ©rage']},
  {id:'t0b',b:'terrain',lv:0,t:'Assister Ã  une activitÃ© citoyenne existante',d:'Conseil communal public, rÃ©union de quartier, atelier d\'une ASBL. Observez : qui participe? Qui est absent? Pourquoi?',xp:15,tags:['ğŸ‘€ Observation','Terrain']},
  {id:'t1a',b:'terrain',lv:1,t:'Organiser une marche exploratoire',d:'1-2 km dans votre quartier. Grille d\'observation : accessibilitÃ©, verdure, sÃ©curitÃ©, services. Photographiez. Partagez vos constats.',xp:30,tags:['ğŸš¶ Marche','Local']},
  {id:'t1b',b:'terrain',lv:1,t:'Installer un porteur de paroles',d:'Un drap blanc, une question en gros, des marqueurs. Dans la rue, au marchÃ©. Recueillez les paroles des passants.',xp:35,tags:['ğŸ“¢ Rue','Impact']},
  {id:'t2a',b:'terrain',lv:2,t:'Contacter un centre culturel pour proposer un atelier',d:'Appelez, prÃ©sentez le projet. Les centres culturels sont mandatÃ©s pour la dÃ©mocratie culturelle â€” ils cherchent des projets !',xp:40,tags:['ğŸ¤ Partenariat','Institutionnel']},
  {id:'t2b',b:'terrain',lv:2,t:'Adapter un atelier Ã  un public vulnÃ©rable',d:'Format trÃ¨s court (45 min), non anxiogÃ¨ne, exercices concrets. Posture de pair aidant. Pensez au Babel\'zin.',xp:40,tags:['â¤ï¸ Inclusion','Adaptation']},
  {id:'t3a',b:'terrain',lv:3,t:'Animer 3 ateliers dans 3 lieux diffÃ©rents',d:'BibliothÃ¨que + maison de quartier + espace public. Comparez les dynamiques. Adaptez votre approche Ã  chaque contexte.',xp:55,tags:['ğŸ“ Multi-lieux','Pratique']},
  {id:'t3b',b:'terrain',lv:3,t:'Collecter 5 codes postaux volontaires',d:'MÃ©canisme RGPD-by-design : demandez aux participants en ligne de partager leur code postal. Quand 5+ dans la mÃªme zone â†’ proposition de meetup.',xp:40,tags:['ğŸ” RGPD','Bascule']},
  {id:'t4a',b:'terrain',lv:4,t:'Ã‰tablir un partenariat avec une ASBL reconnue EP',d:'280 associations d\'Ã©ducation permanente en FWB. Identifiez celle qui correspond le mieux. Proposez une collaboration concrÃ¨te.',xp:65,tags:['ğŸ“„ Partenariat','StratÃ©gie']},
  {id:'t4b',b:'terrain',lv:4,t:'Mobiliser 50 signatures pour une campagne',d:'PÃ©tition, lettre ouverte, interpellation collective. Le quantitatif compte pour la reconnaissance institutionnelle.',xp:60,tags:['âœŠ Mobilisation','Campagne']},
  {id:'t5a',b:'terrain',lv:5,t:'CrÃ©er un noyau local autonome',d:'3-5 personnes formÃ©es, un lieu rÃ©gulier, un rythme d\'ateliers. Le groupe tourne sans vous. Vous avez essaimÃ©.',xp:100,tags:['ğŸŒ± Essaimage','Autonomie']},
  {id:'t5b',b:'terrain',lv:5,t:'DÃ©poser un dossier de reconnaissance EP',d:'Objectif 2028 : fin du moratoire. Contrat-programme 5 ans. Axes : animation, formation, analyses, campagnes.',xp:120,tags:['ğŸ›ï¸ Institutionnel','2028']}
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• STATE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let state;
function loadState(){
  try{state=JSON.parse(localStorage.getItem('ouaisfieu-parcours'))||{done:[]};}
  catch(e){state={done:[]};}
}
function saveState(){try{localStorage.setItem('ouaisfieu-parcours',JSON.stringify(state));}catch(e){}}
loadState();

function getXP(){return M.filter(m=>state.done.includes(m.id)).reduce((s,m)=>s+m.xp,0);}
function getRank(){const xp=getXP();let r=RANKS[0];for(const rk of RANKS){if(xp>=rk.xp)r=rk;}return r;}
function getNextRank(){const r=getRank();return RANKS[r.lv+1]||null;}
function isUnlocked(m){return m.lv<=getRank().lv+1;} // Can see current + next level

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RENDER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function updateHeader(){
  const r=getRank(),nr=getNextRank(),xp=getXP();
  document.getElementById('rank-icon').textContent=r.i;
  document.getElementById('rank-name').textContent=r.n;
  document.getElementById('rank-name').style.color=r.c;
  document.getElementById('rank-title').textContent='Niveau '+r.lv;
  document.getElementById('xp-level').textContent='Niv. '+r.lv;
  if(nr){
    const pct=Math.min(100,((xp-r.xp)/(nr.xp-r.xp))*100);
    document.getElementById('xp-fill').style.width=pct+'%';
    document.getElementById('xp-text').textContent=xp+' / '+nr.xp+' XP';
  }else{
    document.getElementById('xp-fill').style.width='100%';
    document.getElementById('xp-text').textContent=xp+' XP â€” MAX';
  }
}

function renderTree(){
  const el=document.getElementById('v-tree');
  let h='<div class="tip"><span class="tip-i">ğŸ¯</span><div>ComplÃ©tez des missions pour gagner de l\'XP et monter en niveau. Chaque niveau dÃ©bloque de nouvelles missions. Les missions sont des <b>actions rÃ©elles</b>, pas des quiz â€” c\'est en faisant qu\'on apprend.</div></div>';
  for(const br of BRANCHES){
    const bm=M.filter(m=>m.b===br.id);
    const done=bm.filter(m=>state.done.includes(m.id)).length;
    h+=`<div class="branch"><div class="branch-head"><div class="branch-icon" style="background:${br.c}18;border:1px solid ${br.c}44">${br.i}</div><div><div class="branch-nm">${br.n}</div><div class="branch-desc">${br.d}</div></div><div class="branch-prog">${done}/${bm.length}</div></div><div class="missions">`;
    for(const m of bm){
      const isDone=state.done.includes(m.id);
      const locked=!isUnlocked(m);
      const cls=isDone?'done':locked?'locked':'';
      const lvR=RANKS[m.lv];
      h+=`<div class="mission ${cls}" data-id="${m.id}">
        <div class="m-level">${lvR.i} Niveau ${m.lv} â€” ${lvR.n}</div>
        <div class="m-title">${m.t}</div>
        <div class="m-desc">${m.d}</div>
        <div class="m-meta">
          <span class="m-xp">+${m.xp} XP</span>
          ${m.tags.map(t=>`<span class="m-tag" style="background:${br.c}15;color:${br.c}">${t}</span>`).join('')}
          ${!locked?`<button class="m-btn ${isDone?'undo':''}" onclick="toggle('${m.id}')">${isDone?'âœ“ Fait':'Valider'}</button>`:''}
        </div>
      </div>`;
    }
    h+='</div></div>';
  }
  el.innerHTML=h;
}

function renderRoad(){
  const el=document.getElementById('v-road');
  const curLv=getRank().lv;
  let h='<div class="tip"><span class="tip-i">ğŸ—ºï¸</span><div>Votre progression de <b>CurieuxÂ·se</b> ğŸŒ± Ã  <b>MaÃ®treÂ·sse de Forge</b> ğŸ”¥. Chaque niveau reprÃ©sente un saut qualitatif dans votre capacitÃ© d\'action citoyenne.</div></div>';
  h+='<div class="roadmap">';
  for(const r of RANKS){
    const cls=r.lv<curLv?'passed':r.lv===curLv?'active':'future';
    const lvM=M.filter(m=>m.lv===r.lv);
    const lvDone=lvM.filter(m=>state.done.includes(m.id)).length;
    h+=`<div class="rm-level ${cls}">
      <div class="rm-dot">${r.lv<curLv?'âœ“':r.lv}</div>
      <div class="rm-body">
        <div class="rm-rank">Niveau ${r.lv} Â· ${r.xp} XP${r.lv===curLv?' â€” VOUS ÃŠTES ICI':''}</div>
        <div class="rm-name" style="color:${r.c}">${r.i} ${r.n}</div>
        <div class="rm-desc">${r.d}</div>
        <div style="font-size:11px;color:var(--tx3);margin-bottom:8px;font-family:'Space Mono',monospace">${lvDone}/${lvM.length} missions complÃ©tÃ©es</div>
        <div class="rm-skills">${BRANCHES.map(br=>{
          const bm=M.filter(m=>m.b===br.id&&m.lv===r.lv);
          const bd=bm.filter(m=>state.done.includes(m.id)).length;
          return`<span class="rm-skill" style="background:${br.c}15;color:${br.c}">${br.i} ${bd}/${bm.length}</span>`;
        }).join('')}</div>
      </div>
    </div>`;
  }
  h+='</div>';
  el.innerHTML=h;
}

function renderProfile(){
  const el=document.getElementById('v-profil');
  const xp=getXP(),r=getRank(),done=state.done.length,total=M.length;
  let h=`<div class="profile-grid">
    <div class="stat-card"><div class="stat-val" style="color:var(--mint)">${xp}</div><div class="stat-label">XP Total</div></div>
    <div class="stat-card"><div class="stat-val" style="color:var(--lila)">${r.i}</div><div class="stat-label">${r.n} Â· Niv. ${r.lv}</div></div>
    <div class="stat-card"><div class="stat-val" style="color:var(--yel)">${done}</div><div class="stat-label">Missions complÃ©tÃ©es</div></div>
    <div class="stat-card"><div class="stat-val" style="color:var(--tx3)">${total-done}</div><div class="stat-label">Missions restantes</div></div>
  </div>`;
  h+='<h3 style="margin-top:24px;font-size:14px;color:var(--mint);margin-bottom:12px">Progression par branche</h3>';
  for(const br of BRANCHES){
    const bm=M.filter(m=>m.b===br.id);
    const bd=bm.filter(m=>state.done.includes(m.id)).length;
    const pct=bm.length?Math.round((bd/bm.length)*100):0;
    h+=`<div style="margin-bottom:12px"><div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px"><span>${br.i} ${br.n}</span><span class="mono" style="color:var(--tx3)">${bd}/${bm.length} Â· ${pct}%</span></div><div class="xp-bar" style="height:8px"><div class="xp-fill" style="width:${pct}%;background:${br.c}"></div></div></div>`;
  }
  h+=`<div style="margin-top:32px;text-align:center"><button class="reset-btn" onclick="resetAll()">ğŸ—‘ï¸ RÃ©initialiser toute ma progression</button></div>`;
  el.innerHTML=h;
}

function renderAll(){updateHeader();renderTree();renderRoad();renderProfile();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ACTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggle(id){
  if(state.done.includes(id)){state.done=state.done.filter(x=>x!==id);}
  else{state.done.push(id);}
  saveState();renderAll();
  // Level up animation
  const newR=getRank();
  document.getElementById('rank-badge').style.animation='none';
  setTimeout(()=>document.getElementById('rank-badge').style.animation='',10);
}
function resetAll(){
  if(confirm('Remettre toute la progression Ã  zÃ©ro?')){state.done=[];saveState();renderAll();}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TABS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.querySelectorAll('.tab').forEach(b=>b.addEventListener('click',()=>{
  document.querySelectorAll('.tab').forEach(t=>t.classList.toggle('on',t===b));
  document.querySelectorAll('.view').forEach(v=>v.classList.toggle('on',v.id==='v-'+b.dataset.t));
}));

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• INIT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
renderAll();
</script>
</body>
</html>

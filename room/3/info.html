<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INFOGRAPHIE: L'Affaire Deborsu - Analyse des Données</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

    <!-- Chosen Palette: Energetic & Playful -->
    <!-- Primary Purple: #8B5FBF -->
    <!-- Vibrant Teal: #61C0BF -->
    <!-- Hot Pink: #FF96AD -->
    <!-- Soft Peach: #FAE3D9 -->
    <!-- Text Dark: #2D3748 -->

    <!-- Application Structure Plan:
         1. Hero Section: Hooking the user with the magnitude of the "scandal".
         2. Key Metrics Grid: Instant "Big Numbers" for impact.
         3. Composition Analysis (Donut): Showing what the polemic is actually made of.
         4. Timeline (CSS): Tracking the events from the first "bad joke" to the "sauce shortage".
         5. Suspect Profile (Radar): Quantifying the chaotic energy of the main suspect.
         6. Deep Dive (Plotly 3D): A complex look at the "Seum" levels using WebGL.
         7. Conclusion: Summary of findings.
    -->

    <!-- Visualization & Content Choices:
         1. Metric Cards -> Goal: Inform -> Big bold numbers -> Instant context on the absurdity.
         2. Donut Chart -> Goal: Compare -> Breakdown of "Scandal Ingredients" -> Chart.js -> Simple part-to-whole.
         3. Vertical Timeline -> Goal: Change -> Chronology of the "Leak" -> CSS Flexbox -> No SVG needed.
         4. Radar Chart -> Goal: Relationships -> Deborsu's Personality Metrics -> Chart.js -> Multi-axis comparison.
         5. 3D Scatter -> Goal: Relationships -> Correlation of Rain, Fries, and Seum -> Plotly WebGL -> Advanced viz.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #F7FAFC;
            color: #2D3748;
        }
        h1, h2, h3, .heading-font {
            font-family: 'Montserrat', sans-serif;
        }
        .palette-purple { color: #8B5FBF; }
        .bg-palette-purple { background-color: #8B5FBF; }
        .palette-teal { color: #61C0BF; }
        .bg-palette-teal { background-color: #61C0BF; }
        .palette-pink { color: #FF96AD; }
        .bg-palette-pink { background-color: #FF96AD; }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Constraint for large screens */
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 400px;
        }

        /* Timeline Styles */
        .timeline-point {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #8B5FBF;
            position: relative;
            z-index: 10;
        }
        .timeline-line {
            width: 4px;
            background-color: #E2E8F0;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 6px;
            z-index: 1;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Hero Section -->
    <header class="bg-palette-purple text-white py-12 px-4 shadow-lg">
        <div class="max-w-6xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-black mb-4 tracking-tight">L'AFFAIRE "OUAIS FIEU"</h1>
            <p class="text-xl md:text-2xl font-light text-purple-100 max-w-3xl mx-auto">
                Analyse de données sur le plus grand scandale de gaufres et de pantalons rouges de l'histoire belge.
            </p>
            <div class="mt-8 inline-block bg-palette-pink text-white font-bold py-2 px-6 rounded-full uppercase tracking-wide shadow-md transform hover:scale-105 transition-transform">
                Rapport Confidentiel
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-4 py-12 space-y-16">

        <!-- Section 1: Introduction & KPIs -->
        <section>
            <div class="mb-8 border-l-8 border-palette-teal pl-6">
                <h2 class="text-3xl font-bold mb-2 text-gray-800">1. L'Ampleur du Désastre</h2>
                <p class="text-lg text-gray-600">
                    Nos sondes numériques ont intercepté des téraoctets de "n'importe quoi". Voici les chiffres clés qui définissent la magnitude de cette crise médiatico-culinaire. Il apparaît que la consommation de médias est directement corrélée à la perte de QI collectif.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- KPI 1 -->
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-palette-purple hover:shadow-xl transition-shadow">
                    <div class="text-5xl font-black palette-purple mb-2">404%</div>
                    <div class="text-sm font-bold uppercase tracking-wider text-gray-500">Augmentation du Seum</div>
                    <p class="mt-3 text-gray-600 text-sm">Hausse détectée dans les commentaires Facebook depuis la révélation du "Pantalon Gate".</p>
                </div>
                <!-- KPI 2 -->
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-palette-teal hover:shadow-xl transition-shadow">
                    <div class="text-5xl font-black palette-teal mb-2">12M</div>
                    <div class="text-sm font-bold uppercase tracking-wider text-gray-500">Gaufres Détournées</div>
                    <p class="mt-3 text-gray-600 text-sm">Estimation du stock stratégique caché dans les caves de la RTBF.</p>
                </div>
                <!-- KPI 3 -->
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-palette-pink hover:shadow-xl transition-shadow">
                    <div class="text-5xl font-black palette-pink mb-2">0.02</div>
                    <div class="text-sm font-bold uppercase tracking-wider text-gray-500">Taux de Vérité</div>
                    <p class="mt-3 text-gray-600 text-sm">Concentration de faits réels par minute d'antenne (Marge d'erreur: ±100%).</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Composition Analysis (Donut Chart) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="order-2 md:order-1">
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
            </div>
            <div class="order-1 md:order-2">
                <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b-4 border-palette-pink inline-block pb-1">2. Anatomie d'une Polémique</h2>
                <p class="mb-4 text-gray-700 leading-relaxed">
                    De quoi est fait ce scandale ? Contrairement aux rumeurs, ce n'est pas uniquement de la "sauce andalouse". L'analyse spectrale des débats révèle une composition complexe dominée par le vide intersidéral et l'humour absurde.
                </p>
                <ul class="space-y-3 mt-4">
                    <li class="flex items-center">
                        <span class="w-4 h-4 rounded-full bg-palette-purple mr-3"></span>
                        <span class="font-bold text-gray-700">Fake News (40%) :</span> Informations totalement inventées.
                    </li>
                    <li class="flex items-center">
                        <span class="w-4 h-4 rounded-full bg-palette-teal mr-3"></span>
                        <span class="font-bold text-gray-700">Du Vent (20%) :</span> Brassage d'air médiatique.
                    </li>
                    <li class="flex items-center">
                        <span class="w-4 h-4 rounded-full bg-palette-pink mr-3"></span>
                        <span class="font-bold text-gray-700">Blagues Nulles (35%) :</span> Jeux de mots sur les frites.
                    </li>
                </ul>
            </div>
        </section>

        <!-- Section 3: Timeline (CSS Implementation) -->
        <section class="bg-white p-8 rounded-2xl shadow-lg">
            <div class="mb-8 text-center max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold mb-3 text-gray-800">3. Chronologie des Événements</h2>
                <p class="text-gray-600">Comment sommes-nous passés d'un simple reportage dominical à une crise nationale ? Reconstitution des faits.</p>
            </div>

            <div class="relative max-w-3xl mx-auto pl-4">
                <div class="timeline-line"></div>
                
                <!-- Event 1 -->
                <div class="flex items-start mb-8 relative">
                    <div class="timeline-point mt-1.5 flex-shrink-0"></div>
                    <div class="ml-6">
                        <span class="inline-block px-3 py-1 bg-gray-100 text-gray-600 rounded text-xs font-bold mb-1">Lundi, 08h00</span>
                        <h3 class="text-xl font-bold text-palette-purple">Le Premier "Ouais Fieu"</h3>
                        <p class="text-gray-600 mt-1">Un micro reste ouvert. La phrase culte est prononcée. L'internet s'enflamme.</p>
                    </div>
                </div>

                <!-- Event 2 -->
                <div class="flex items-start mb-8 relative">
                    <div class="timeline-point mt-1.5 flex-shrink-0 bg-palette-teal"></div>
                    <div class="ml-6">
                        <span class="inline-block px-3 py-1 bg-gray-100 text-gray-600 rounded text-xs font-bold mb-1">Mercredi, 14h30</span>
                        <h3 class="text-xl font-bold text-palette-teal">Pénurie de Sauce</h3>
                        <p class="text-gray-600 mt-1">Conséquence directe de l'audimat : rupture de stock nationale d'Andalouse. L'armée est mobilisée.</p>
                    </div>
                </div>

                <!-- Event 3 -->
                <div class="flex items-start relative">
                    <div class="timeline-point mt-1.5 flex-shrink-0 bg-palette-pink"></div>
                    <div class="ml-6">
                        <span class="inline-block px-3 py-1 bg-gray-100 text-gray-600 rounded text-xs font-bold mb-1">Dimanche, 20h00</span>
                        <h3 class="text-xl font-bold text-palette-pink">La Révélation Finale</h3>
                        <p class="text-gray-600 mt-1">Christophe avoue tout : "C'était pour rire". Le pays respire. Les frites refroidissent.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Profiling (Radar Chart) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div>
                <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b-4 border-palette-purple inline-block pb-1">4. Profilage du Suspect</h2>
                <p class="mb-6 text-gray-700 leading-relaxed">
                    Nous avons passé le journaliste Christophe D. au crible de nos algorithmes de détection de charisme et d'excentricité. Le graphique radar ci-contre compare ses attributs à la "Norme Journalistique Belge" (NJB).
                </p>
                <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                    <h4 class="font-bold text-blue-800 mb-1">Observation Clé :</h4>
                    <p class="text-sm text-blue-700">
                        Le sujet présente des niveaux anormalement élevés de "Couleur de Pantalon" et de "Volume Sonore", suggérant une capacité unique à hypnotiser les téléspectateurs flamands et francophones simultanément.
                    </p>
                </div>
            </div>
            <div>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Section 5: Advanced Analysis (Plotly 3D) -->
        <section>
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold mb-2 text-gray-800">5. La Matrice du "Seum"</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    Visualisation 3D corrélant la pluviométrie (X), la consommation de frites (Y) et l'intensité du scandale (Z).
                </p>
            </div>
            
            <div class="bg-white rounded-xl shadow-xl p-4 md:p-6 border border-gray-200">
                <!-- Wrapper specifically for Plotly to ensure responsive handling -->
                <div id="plotlyDiv" class="w-full h-[500px]"></div>
                <div class="mt-4 text-center text-sm text-gray-500 italic">
                    Modèle généré par le supercalculateur "Manneken-1". Interactions possibles : Zoomer, Tourner, Paniquer.
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12 text-center">
        <div class="max-w-4xl mx-auto px-4">
            <h3 class="text-2xl font-bold mb-4 heading-font">FIN DU RAPPORT</h3>
            <p class="text-gray-400 mb-8">
                Ce document est généré automatiquement par l'IA "Canvas" sur base d'une requête satirique. <br>
                Aucune gaufre n'a été maltraitée durant la compilation de ces données.
            </p>
            <div class="flex justify-center space-x-4 text-sm font-mono text-palette-teal">
                <span>#OuaisFieu</span>
                <span>•</span>
                <span>#DeborsuGate</span>
                <span>•</span>
                <span>#DataViz</span>
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Label Wrapping Utility ---
        // Splits long strings into arrays of shorter strings for Chart.js
        function formatLabels(labels, maxLength = 16) {
            return labels.map(label => {
                if (label.length <= maxLength) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = words[0];

                for (let i = 1; i < words.length; i++) {
                    if ((currentLine + " " + words[i]).length < maxLength) {
                        currentLine += " " + words[i];
                    } else {
                        lines.push(currentLine);
                        currentLine = words[i];
                    }
                }
                lines.push(currentLine);
                return lines;
            });
        }

        // --- 2. Common Tooltip Configuration ---
        const commonTooltipConfig = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- 3. Chart Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- Chart 1: Composition (Donut) ---
            const ctxDonut = document.getElementById('compositionChart').getContext('2d');
            const rawLabelsDonut = ['Fake News & Rumeurs', 'Du Vent Médiatique', 'Blagues Belges Nulles', 'Faits Réels Vérifiés', 'Sauce Andalouse'];
            const processedLabelsDonut = formatLabels(rawLabelsDonut);

            new Chart(ctxDonut, {
                type: 'doughnut',
                data: {
                    labels: processedLabelsDonut,
                    datasets: [{
                        data: [40, 20, 35, 5, 10], // Percentages
                        backgroundColor: [
                            '#8B5FBF', // Purple
                            '#61C0BF', // Teal
                            '#FF96AD', // Pink
                            '#FAE3D9', // Peach
                            '#F6E05E'  // Yellow (Sauce)
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { padding: 20, font: { family: "'Open Sans', sans-serif" } }
                        },
                        tooltip: commonTooltipConfig
                    },
                    cutout: '60%'
                }
            });

            // --- Chart 2: Radar Profile ---
            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            const rawLabelsRadar = ['Volume Sonore', 'Excentricité Vestimentaire', 'Amour des Gaufres', 'Crédibilité Sérieuse', 'Vitesse de Parole'];
            const processedLabelsRadar = formatLabels(rawLabelsRadar);

            new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: processedLabelsRadar,
                    datasets: [{
                        label: 'Christophe D.',
                        data: [95, 90, 85, 40, 98],
                        fill: true,
                        backgroundColor: 'rgba(139, 95, 191, 0.2)', // Purple transparent
                        borderColor: '#8B5FBF',
                        pointBackgroundColor: '#8B5FBF',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#8B5FBF'
                    }, {
                        label: 'Journaliste Standard',
                        data: [40, 20, 50, 80, 50],
                        fill: true,
                        backgroundColor: 'rgba(97, 192, 191, 0.2)', // Teal transparent
                        borderColor: '#61C0BF',
                        pointBackgroundColor: '#61C0BF',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#61C0BF'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: commonTooltipConfig
                    },
                    scales: {
                        r: {
                            angleLines: { color: '#E2E8F0' },
                            grid: { color: '#E2E8F0' },
                            pointLabels: {
                                font: { size: 12, family: "'Open Sans', sans-serif" }
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });

            // --- 4. Plotly 3D Scatter ---
            // Simulating a dataset: x=Rain, y=Fries, z=Seum (Scandal Intensity)
            const count = 50;
            const xData = Array.from({length: count}, () => Math.random() * 100); // Rain
            const yData = Array.from({length: count}, () => Math.random() * 100); // Fries
            // Z correlates with both X and Y for the visual effect
            const zData = xData.map((x, i) => (x * 0.5) + (yData[i] * 0.5) + (Math.random() * 20)); 
            
            const trace1 = {
                x: xData,
                y: yData,
                z: zData,
                mode: 'markers',
                marker: {
                    size: 12,
                    color: zData, // Color by intensity
                    colorscale: [
                        [0, '#61C0BF'],   // Teal (Low)
                        [0.5, '#8B5FBF'], // Purple (Med)
                        [1, '#FF96AD']    // Pink (High)
                    ],
                    opacity: 0.8,
                    line: { color: 'white', width: 1 }
                },
                type: 'scatter3d',
                text: zData.map(z => `Intensité: ${Math.round(z)}%`),
                hoverinfo: 'x+y+z+text',
                hovertemplate: 
                    '<b>Pluie (L/m²):</b> %{x:.1f}<br>' +
                    '<b>Frites (kg):</b> %{y:.1f}<br>' +
                    '<b>Niveau de Seum:</b> %{z:.1f}<extra></extra>'
            };

            const layout = {
                margin: { l: 0, r: 0, b: 0, t: 0 },
                paper_bgcolor: 'rgba(0,0,0,0)', // Transparent
                scene: {
                    xaxis: { title: 'Pluie (Tristesse)', titlefont: {color: '#2D3748'}, tickfont: {color: '#4A5568'} },
                    yaxis: { title: 'Consommation Frites', titlefont: {color: '#2D3748'}, tickfont: {color: '#4A5568'} },
                    zaxis: { title: 'Indice de Scandale', titlefont: {color: '#2D3748'}, tickfont: {color: '#4A5568'} },
                    camera: {
                        eye: { x: 1.5, y: 1.5, z: 1.5 }
                    }
                }
            };

            const config = {
                responsive: true,
                displayModeBar: false
            };

            Plotly.newPlot('plotlyDiv', [trace1], layout, config);
        });
    </script>
</body>
</html>
